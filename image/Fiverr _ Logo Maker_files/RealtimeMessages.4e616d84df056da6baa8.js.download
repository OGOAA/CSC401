!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@fiverr/i18n/singleton"),require("axios"),require("classnames"),require("lodash"),require("prop-types"),require("react"),require("react-dom"),require("react-redux"),require("redux"),require("redux-thunk"),require("ua-parser-js"));else if("function"==typeof define&&define.amd)define(["@fiverr/i18n/singleton","axios","classnames","lodash","prop-types","react","react-dom","react-redux","redux","redux-thunk","ua-parser-js"],t);else{var n="object"==typeof exports?t(require("@fiverr/i18n/singleton"),require("axios"),require("classnames"),require("lodash"),require("prop-types"),require("react"),require("react-dom"),require("react-redux"),require("redux"),require("redux-thunk"),require("ua-parser-js")):t(e.i18n,e.axios,e.classNames,e._,e.PropTypes,e.React17,e.ReactDOM17,e.ReactRedux,e.Redux,e.ReduxThunk,e.uaParser);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,((e,t,n,r,o,i,s,a,c,l,u)=>(()=>{var p,d,f,m,g={Aoh0:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n("yHGu"),o=n.n(r);const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e;const i=Object.assign({},t,r?r.props:{},n);return o().isValidElement(r)?o().cloneElement(r,i):("function"==typeof e&&(r=e(i)),["undefined","boolean"].includes(typeof r)?null:r)}},kJGG:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n("yHGu"),o=n.n(r),i=n("IX+1"),s=n.n(i),a=n("Aoh0"),c=n("SCvs"),l=n.n(c);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=e=>{let{onClick:t,className:n,color:r,children:i,size:c=16,ariaLabel:d}=e;const f="function"==typeof t,m=s()(l().fitIcon,{[l().fitIconClickable]:f},n),g=((e,t)=>({width:"".concat(e,"px"),height:"".concat(e,"px"),fill:t}))(c,r),h=f?"button":"span",b={className:m,style:g,"aria-label":d};return f?Object.assign(b,{onClick:t}):d?Object.assign(b,{role:"img"}):Object.assign(b,{"aria-hidden":!0}),o().createElement(h,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b),(0,a.Z)(i))};d.displayName="Icon";const f=d},jOia:(e,t)=>{t.DEFAULT_LOCALE="en-US"},AFX1:e=>{e.exports={MOBILE_DEVICE:"mobile",TABLET_DEVICE:"tablet",DESKTOP_DEVICE:"desktop",IOS_OS_NAME:"iOS",ANDROID_OS_NAME:"Android"}},HFvH:(e,t,n)=>{const{MOBILE_DEVICE:r,TABLET_DEVICE:o,IOS_OS_NAME:i,ANDROID_OS_NAME:s}=n("AFX1");e.exports={isMobile:e=>e===r,isTouch:e=>[r,o].includes(e),isIos:e=>e===i,isAndroid:e=>e===s}},"1J0n":(e,t,n)=>{const{DEFAULT_LOCALE:r}=n("jOia");t.Q={locale:r,computedLocale:r,userId:0,country:"",countryCode:"",pageCtxId:"",isPro:!1,abTests:{},userAgent:"",knownCrawler:!1,csrfToken:"",browserLanguage:"",currency:"",pathParameters:{},queryParameters:{},userGuid:"",url:"",ip:"",referrer:"",organizationId:"",experience:{isBuyer:!1,isSeller:!1,isBusiness:!1,value:""},isMobile:!1,isTouch:!1,isIos:!1}},yeIW:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n("luq0"),o=n.n(r),i=n("t3UH"),s=n("glLg"),a=n.n(s),c=n("HFvH");const l=Symbol(),u=(e,t,n)=>{Object.defineProperty(e,t,{value:n,writable:!1,enumerable:!1})},p=e=>{if(e[l])return e;if(!(e=>!!e&&(0,r.isObject)(e)&&!Array.isArray(e))(e))return i.Z.error("FiverrContext computed mixin target is not valid, please contact platform team."),e;const{userAgent:t}=e,n=a()(t),{device:{type:o},os:{name:s}}=n,p={isMobile:c.isMobile(o),isTouch:c.isTouch(o),isIos:c.isIos(s),isAndroid:c.isAndroid(s)};return u(e,l,!0),Object.entries(p).forEach((t=>{let[n,r]=t;return u(e,n,r)})),e};var d=n("1J0n");const f=()=>{const e=o().get(window,"initialData.FiverrContext");return e?p(e):(i.Z.error({message:"Browser context does not exist, please ensure the run time owner sets one on the window scope before using this API"}),d.Q)}},K4Ks:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r=864e5},jp82:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});const r=36e5},"/57Z":(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=6e4},Iwq2:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r="object"==typeof window&&window.window===window&&window||"object"==typeof n.g&&n.g.global===n.g&&n.g||"object"==typeof self&&self.self===self&&self},FCKS:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});const r=Symbol();class o{constructor(){this[r]=new Map}on(e,t){let n=this[r].get(e);n||(this[r].set(e,new Set),n=this[r].get(e)),n.add(t)}once(e,t){var n=this;const r=function(){n.off(e,r),t(...arguments)};this.on(e,r)}one(e,t){this.has(e)||this.on(e,t)}has(e){return this[r].has(e)}off(e,t){if(!this[r].has(e))return;if(void 0===t)return void this[r].delete(e);const n=this[r].get(e);n.delete(t),0===n.size&&this[r].delete(e)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const i=this[r].get(e);i&&i.forEach((e=>{e(...n)}))}deferred(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Promise.resolve().then((()=>{this.emit(e,...n)}))}}},QqJZ:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n("Iwq2"),o=n("FCKS");const i=Symbol.for("globalEventBus"),s=r.z[i]=r.z[i]||new o.N},"9Bnk":(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={send:(0,n("YWdJ").Z)("OBS::BIG_QUERY")}},t3UH:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n("QqJZ");const o="OBS::LOGGER",i="debug",s="verbose",a="info",c="warn",l="error",u="critical",p=[i,s,a,c,l,u],d=p.reduce(((e,t)=>Object.assign(e,{[t]:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.T.deferred(o,{entity:e,enrichments:n,level:t})}})),{});Object.defineProperty(d,"force",{value:p.reduce(((e,t)=>Object.assign(e,{[t]:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.T.deferred(o,{entity:e,enrichments:n,level:t,force:true})}})),{})});const f=d},YWdJ:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n("QqJZ");const o=e=>function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.T.deferred(e,{events:n})}},MXr9:(e,t,n)=>{"use strict";n.d(t,{Ui:()=>o,ed:()=>s,ep:()=>r,j4:()=>i});const r=5,o=4,i="five_minutes_response_banner",s={EXPANDED:"expanded",MINIMIZED:"minimized"}},Z30J:(e,t,n)=>{"use strict";n.d(t,{Bz:()=>c,Dl:()=>s,Gq:()=>i,OX:()=>o,Pb:()=>r,co:()=>l,gf:()=>a,nO:()=>u,uo:()=>p});const r=1e4,o=3,i="realtime-notifications",s="realtime_notifications::try_me",a="realtime_notifications::sound_enabled_change",c="realtime_notifications::realtime_enabled_change",l="notification_drawer",u="realtime_notifications",p="realtime_notifications_shared"},"2a38":(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n("yHGu"),o=n.n(r),i=n("fbkA");const s=(e,t)=>n=>class extends o().Component{componentDidCatch(n){(0,i.H)(n,{module:e,payload:{componentName:t}})}render(){return o().createElement(n,this.props)}}},"AXA+":(e,t,n)=>{"use strict";n.d(t,{a:()=>R,E:()=>L});var r=n("9Bnk"),o=n("/odS"),i=n("luq0"),s=n("yeIW");const a="imp",c={group:"notifications",entity:"client"},l={action:{type:"click"}},u={action:{type:"hover"}},p=e=>d(e,l),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{item:r,layoutSource:o,pageElement:s}=n;return(0,i.merge)({type:e},c,t,f({pageElement:s}),m({item:r,layoutSource:o}))}},f=e=>{let{pageElement:t}=e;const{pageCtxId:n}=(0,s.Z)();return{page:{ctx_id:n,element:t}}},m=e=>{let{item:t,layoutSource:n}=e;return t?{notification:{id:t.id,type:t.subType,source:n}}:{}},{notification:g,encourageSellerReply:h}=o.G,b={[g.clicked]:p("clicked_on_notification"),[g.markedAsRead]:p("marked_notification_as_read"),[g.markedAsUnread]:p("marked_notification_as_unread"),[h.hovered]:(y="encourage_seller_reply.hovered",d(y,u)),[h.closed]:p("encourage_seller_reply.closed"),[h.minimized]:p("encourage_seller_reply.minimized"),[h.clickedOnBuyerName]:p("encourage_seller_reply.clicked_on_buyer_name"),[h.clickedOnBubble]:p("encourage_seller_reply.clicked_on_bubble")};var y;const v={action:{type:a},group:"notification_impressions"},O=e=>d(e,v),{notification:w,encourageSellerReply:_}=o.G,E={[w.shown]:O("notification_is_shown"),[_.shown]:O("encourage_seller_reply_is_shown")};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=e=>t=>P(e,t),P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S({eventName:e},t)},{encourageSellerReply:k}=o.G,x={[k.shown]:j("Communication - Encourage Seller Reply - Shown"),[k.hovered]:j("Communication - Encourage Seller Reply - Hovered"),[k.closed]:j("Communication - Encourage Seller Reply - Closed"),[k.minimized]:j("Communication - Encourage Seller Reply - Minimized"),[k.clickedOnBuyerName]:j("Communication - Encourage Seller Reply - Clicked on buyer name"),[k.clickedOnBubble]:j("Communication - Encourage Seller Reply - Clicked on bubble")};var A=n("QqJZ");const I=(e,t)=>{if(!e||"string"!=typeof e)throw new Error('The "eventName" argument must be provided to mixpanel.track');A.T.deferred("OBS::MIXPANEL",e,t)},N=["eventName"];function D(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const L={BIG_QUERY:{name:"bigQuery",events:b,reporter:r.Z.send},MIXPANEL:{name:"mixpanel",events:x,reporter:e=>{let{eventName:t}=e,n=D(e,N);return I(t,n)}},IMPRESSION:{name:"impression",events:E,reporter:r.Z.send}},R=[L.BIG_QUERY,L.IMPRESSION,L.MIXPANEL]},W9mB:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n("AXA+");const o=new class{report(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a;e&&n.forEach((n=>{let{events:r,reporter:o}=n;return this._reportEvent(r[e],o,t)}))}_reportEvent(e,t,n){if(!e)return;t(e(n))}}},"/odS":(e,t,n)=>{"use strict";n.d(t,{G:()=>r});const r={notification:{shown:"notification.shown",clicked:"notification.clicked",markedAsRead:"notification.marked_as_read",markedAsUnread:"notification.marked_as_unread"},encourageSellerReply:{shown:"encourage_seller_reply.shown",hovered:"encourage_seller_reply.hovered",closed:"encourage_seller_reply.closed",minimized:"encourage_seller_reply.minimized",clickedOnBuyerName:"encourage_seller_reply.clicked_on_buyer_name",clickedOnBubble:"encourage_seller_reply.clicked_on_bubble"}}},fbkA:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});const r="Something went wrong",o=function(e){let t,{module:n="",payload:o={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=e instanceof Error?e:"string"==typeof e?new Error(e):new Error(r),t.details={payload:o,package:"@fiverr-private/realtime_notifications",module:n},setTimeout((()=>{throw t}))}},"gEt/":(e,t,n)=>{"use strict";n.d(t,{j:()=>r});const r={MILLISECOND:"millisecond",SECOND:"second",MINUTE:"minute",HOUR:"hour",DAY:"day"}},O40S:(e,t,n)=>{"use strict";n.d(t,{O:()=>c,Y:()=>a});var r=n("K4Ks"),o=n("jp82"),i=n("/57Z"),s=n("gEt/");const a=e=>{switch(e){case s.j.DAY:return r.K;case s.j.HOUR:return o.i;case s.j.MINUTE:return i.A;case s.j.SECOND:return 1e3;case s.j.MILLISECOND:return 1;default:throw new Error("convertUnitToMS - unrecognized time unit")}},c=(e,t)=>{const n=Math.max(Date.now()-e,0);return Math.floor(n/a(t))}},jLoi:(e,t,n)=>{"use strict";n.d(t,{DmX:()=>b,ECm:()=>c,EH_:()=>w,GTR:()=>u,VXk:()=>d,WeJ:()=>r,Yhh:()=>g,_eU:()=>h,aDz:()=>s,dDJ:()=>m,dMX:()=>v,eDi:()=>a,h2w:()=>l,jcq:()=>f,khZ:()=>o,qpQ:()=>i,ryh:()=>p,wMx:()=>O,xLd:()=>y});const r="#1E1692",o="#A23F6E",i="#C14A83",s="#1B8996",a="#25A1B0",c="#9B6928",l="#B47C2E",u="#B25D1F",p="#E37627",d="#C43333",f="#F85D5D",m="#8842D0",g="#A866EC",h="#446EE7",b="#6689EC",y="#1DBF73",v="#74767E",O="#B5B6BA",w=120},"kBU/":(e,t,n)=>{var r=n("3BTF"),o=n("VxPs");n("rS/+");function i(e){return null==e}function s(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}s.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,s=t.onIgnoreAttr,a=t.safeAttrValue;return o(e,(function(e,t,o,c,l){var u=n[o],p=!1;if(!0===u?p=u:"function"==typeof u?p=u(c):u instanceof RegExp&&(p=u.test(c)),!0!==p&&(p=!1),c=a(o,c)){var d,f={position:t,sourcePosition:e,source:l,isWhite:p};return p?i(d=r(o,c,f))?o+":"+c:d:i(d=s(o,c,f))?void 0:d}}))},e.exports=s},"3BTF":(e,t)=>{function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var r=/javascript\s*\:/gim;t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=function(e,t,n){},t.onIgnoreAttr=function(e,t,n){},t.safeAttrValue=function(e,t){return r.test(t)?"":t}},w9Sv:(e,t,n)=>{var r=n("3BTF"),o=n("kBU/");for(var i in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,r)t[i]=r[i];"undefined"!=typeof window&&(window.filterCSS=e.exports)},VxPs:(e,t,n)=>{var r=n("rS/+");e.exports=function(e,t){";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,o=!1,i=0,s=0,a="";function c(){if(!o){var n=r.trim(e.slice(i,s)),c=n.indexOf(":");if(-1!==c){var l=r.trim(n.slice(0,c)),u=r.trim(n.slice(c+1));if(l){var p=t(i,a.length,l,u,n);p&&(a+=p+"; ")}}}i=s+1}for(;s<n;s++){var l=e[s];if("/"===l&&"*"===e[s+1]){var u=e.indexOf("*/",s+2);if(-1===u)break;i=(s=u+1)+1,o=!1}else"("===l?o=!0:")"===l?o=!1:";"===l?o||c():"\n"===l&&c()}return r.trim(a)}},"rS/+":e=>{e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},"3SKs":e=>{e.exports={}},"/MH/":e=>{e.exports={}},"8jpx":e=>{e.exports={}},vzmT:e=>{e.exports={}},gDIq:e=>{e.exports={}},WzVn:e=>{e.exports={}},dovV:e=>{e.exports={}},jEKc:e=>{e.exports={}},SCvs:e=>{e.exports={"fit-icon":"XQskgrQ",fitIcon:"XQskgrQ","fit-icon-clickable":"_6Ri6JoV",fitIconClickable:"_6Ri6JoV"}},uPAo:e=>{e.exports={box:"_77O-JH4","box-hidden":"zBHi7jg",boxHidden:"zBHi7jg","with-animation":"_7t6M82a",withAnimation:"_7t6M82a",fadeIn:"buI7Nb9",content:"_5KluhlZ"}},AtMI:e=>{e.exports={popover:"W46fKfn",content:"_5-fo9i5",clickable:"cK9KPQl","inline-append":"+cX12Jm",inlineAppend:"+cX12Jm","popover-container":"Gcze-fJ",popoverContainer:"Gcze-fJ"}},ONtt:e=>{e.exports={tooltip:"k-kBZXW","box-content":"Yn90o2E",boxContent:"Yn90o2E",box:"_8UHHk5Q"}},Gf4R:e=>{e.exports={"item-meta":"r15kMhW",itemMeta:"r15kMhW",spacer:"rVZcp0W","icn-status":"C1dnCNg",icnStatus:"C1dnCNg",tooltip:"_8ifc4MF"}},La3x:e=>{e.exports={card:"hfDiMGx",fadeIn:"ZHajCrG",expired:"mxa6ADB"}},zAsE:e=>{e.exports={container:"t5IS6U2"}},x7U1:e=>{e.exports={container:"d8z2wlO",item:"_57JpMsO"}},Fo8R:(e,t,n)=>{var r=n("w9Sv").FilterCSS,o=n("w9Sv").getDefaultWhiteList,i=n("oGsw");function s(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var a=new r;function c(e){return e.replace(l,"&lt;").replace(u,"&gt;")}var l=/</g,u=/>/g,p=/"/g,d=/&quot;/g,f=/&#([a-zA-Z0-9]*);?/gim,m=/&colon;?/gim,g=/&newline;?/gim,h=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,b=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,y=/u\s*r\s*l\s*\(.*/gi;function v(e){return e.replace(p,"&quot;")}function O(e){return e.replace(d,'"')}function w(e){return e.replace(f,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function _(e){return e.replace(m,":").replace(g," ")}function E(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return i.trim(t)}function C(e){return e=E(e=_(e=w(e=O(e))))}function S(e){return e=c(e=v(e))}t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},t.getDefaultWhiteList=s,t.onTag=function(e,t,n){},t.onIgnoreTag=function(e,t,n){},t.onTagAttr=function(e,t,n){},t.onIgnoreTagAttr=function(e,t,n){},t.safeAttrValue=function(e,t,n,r){if(n=C(n),"href"===t||"src"===t){if("#"===(n=i.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(h.lastIndex=0,h.test(n))return""}else if("style"===t){if(b.lastIndex=0,b.test(n))return"";if(y.lastIndex=0,y.test(n)&&(h.lastIndex=0,h.test(n)))return"";!1!==r&&(n=(r=r||a).process(n))}return n=S(n)},t.escapeHtml=c,t.escapeQuote=v,t.unescapeQuote=O,t.escapeHtmlEntities=w,t.escapeDangerHtml5Entities=_,t.clearNonPrintableCharacter=E,t.friendlyAttrValue=C,t.escapeAttrValue=S,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(s,a,c){if(function(t){return!!n||-1!==i.indexOf(e,t)}(s)){if(c.isClosing){var l="[/removed]",u=c.position+l.length;return r.push([!1!==o?o:c.position,u]),o=!1,l}return o||(o=c.position),"[removed]"}return t(s,a,c)},remove:function(e){var t="",n=0;return i.forEach(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},t.stripCommentTag=function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("\x3c!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var o=e.indexOf("--\x3e",r);if(-1===o)break;n=o+3}return t},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.cssFilter=a,t.getDefaultCSSWhiteList=o},tTwn:(e,t,n)=>{var r=n("Fo8R"),o=n("yuEw"),i=n("9bA5");function s(e,t){return new i(t).process(e)}(t=e.exports=s).filterXSS=s,t.FilterXSS=i,function(){for(var e in r)t[e]=r[e];for(var n in o)t[n]=o[n]}(),"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},yuEw:(e,t,n)=>{var r=n("oGsw");function o(e){var t,n=r.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=r.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function i(e){return"</"===e.slice(0,2)}var s=/[^a-zA-Z0-9\\_:.-]/gim;function a(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function c(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}}function l(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function u(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,n){"use strict";var r="",s=0,a=!1,c=!1,l=0,u=e.length,p="",d="";e:for(l=0;l<u;l++){var f=e.charAt(l);if(!1===a){if("<"===f){a=l;continue}}else if(!1===c){if("<"===f){r+=n(e.slice(s,l)),a=l,s=l;continue}if(">"===f||l===u-1){r+=n(e.slice(s,a)),p=o(d=e.slice(a,l+1)),r+=t(a,r.length,p,d,i(d)),s=l+1,a=!1;continue}if('"'===f||"'"===f)for(var m=1,g=e.charAt(l-m);""===g.trim()||"="===g;){if("="===g){c=f;continue e}g=e.charAt(l-++m)}}else if(f===c){c=!1;continue}}return s<u&&(r+=n(e.substr(s))),r},t.parseAttr=function(e,t){"use strict";var n=0,o=0,i=[],p=!1,d=e.length;function f(e,n){if(!((e=(e=r.trim(e)).replace(s,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&i.push(o)}}for(var m=0;m<d;m++){var g,h=e.charAt(m);if(!1!==p||"="!==h)if(!1===p||m!==o)if(/\s|\n|\t/.test(h)){if(e=e.replace(/\s|\n|\t/g," "),!1===p){if(-1===(g=a(e,m))){f(r.trim(e.slice(n,m))),p=!1,n=m+1;continue}m=g-1;continue}if(-1===(g=l(e,m-1))){f(p,u(r.trim(e.slice(n,m)))),p=!1,n=m+1;continue}}else;else{if(-1===(g=e.indexOf(h,m+1)))break;f(p,r.trim(e.slice(o+1,g))),p=!1,n=(m=g)+1}else p=e.slice(n,m),n=m+1,o='"'===e.charAt(n)||"'"===e.charAt(n)?n:c(e,m+1)}return n<e.length&&(!1===p?f(e.slice(n)):f(p,u(r.trim(e.slice(n))))),r.trim(i.join(" "))}},oGsw:e=>{e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},"9bA5":(e,t,n)=>{var r=n("w9Sv").FilterCSS,o=n("Fo8R"),i=n("yuEw"),s=i.parseTag,a=i.parseAttr,c=n("oGsw");function l(e){return null==e}function u(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map((function(e){return e.toLowerCase()})):t[n.toLowerCase()]=e[n];return t}(e.whiteList||e.allowList):e.whiteList=o.whiteList,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}u.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,i=t.onIgnoreTag,u=t.onTagAttr,p=t.onIgnoreTagAttr,d=t.safeAttrValue,f=t.escapeHtml,m=this.cssFilter;t.stripBlankChar&&(e=o.stripBlankChar(e)),t.allowCommentTag||(e=o.stripCommentTag(e));var g=!1;t.stripIgnoreTagBody&&(g=o.StripTagBody(t.stripIgnoreTagBody,i),i=g.onIgnoreTag);var h=s(e,(function(e,t,o,s,g){var h={sourcePosition:e,position:t,isClosing:g,isWhite:Object.prototype.hasOwnProperty.call(n,o)},b=r(o,s,h);if(!l(b))return b;if(h.isWhite){if(h.isClosing)return"</"+o+">";var y=function(e){var t=c.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=c.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=c.trim(e.slice(0,-1))),{html:e,closing:n}}(s),v=n[o],O=a(y.html,(function(e,t){var n=-1!==c.indexOf(v,e),r=u(o,e,t,n);return l(r)?n?(t=d(o,e,t,m))?e+'="'+t+'"':e:l(r=p(o,e,t,n))?void 0:r:r}));return s="<"+o,O&&(s+=" "+O),y.closing&&(s+=" /"),s+=">"}return l(b=i(o,s,h))?f(s):b}),f);return g&&(h=g.remove(h)),h},e.exports=u},jgnj:t=>{"use strict";t.exports=e},"/jHP":e=>{"use strict";e.exports=t},"IX+1":e=>{"use strict";e.exports=n},luq0:e=>{"use strict";e.exports=r},JjgO:e=>{"use strict";e.exports=o},yHGu:e=>{"use strict";e.exports=i},"4LQx":e=>{"use strict";e.exports=s},LL9j:e=>{"use strict";e.exports=a},"8zM4":e=>{"use strict";e.exports=c},R8iZ:e=>{"use strict";e.exports=l},glLg:e=>{"use strict";e.exports=u}},h={};function b(e){var t=h[e];if(void 0!==t)return t.exports;var n=h[e]={exports:{}};return g[e](n,n.exports,b),n.exports}b.m=g,b.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return b.d(t,{a:t}),t},b.d=(e,t)=>{for(var n in t)b.o(t,n)&&!b.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},b.f={},b.e=e=>Promise.all(Object.keys(b.f).reduce(((t,n)=>(b.f[n](e,t),t)),[])),b.u=e=>"EncourageSellerReplyPopup.fffceb848a7def6a3422.js",b.miniCssF=e=>({272:"EncourageSellerReplyPopup",496:"RealtimeMessages"}[e]+"."+{272:"4d89712b2e70869268b6",496:"2d5e19ac42e756e5e467"}[e]+".css"),b.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),b.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p={},d="@fiverr-private/layout-realtime-messages-component:",b.l=(e,t,n,r)=>{if(p[e])p[e].push(t);else{var o,i;if(void 0!==n)for(var s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var c=s[a];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==d+n){o=c;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,b.nc&&o.setAttribute("nonce",b.nc),o.setAttribute("data-webpack",d+n),o.src=e,0!==o.src.indexOf(window.location.origin+"/")&&(o.crossOrigin="anonymous")),p[e]=[t];var l=(t,n)=>{o.onerror=o.onload=null,clearTimeout(u);var r=p[e];if(delete p[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),t)return t(n)},u=setTimeout(l.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=l.bind(null,o.onerror),o.onload=l.bind(null,o.onload),i&&document.head.appendChild(o)}},b.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},b.p="https://npm-assets.fiverrcdn.com/assets/layout-server/",f=e=>new Promise(((t,n)=>{var r=b.miniCssF(e),o=b.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===e||o===t))return s}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var s;if((o=(s=i[r]).getAttribute("data-href"))===e||o===t)return s}})(r,o))return t();((e,t,n,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)n();else{var s=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=a,o.parentNode.removeChild(o),r(c)}},o.href=t,0!==o.href.indexOf(window.location.origin+"/")&&(o.crossOrigin="anonymous"),document.head.appendChild(o)})(e,o,t,n)})),m={496:0},b.f.miniCss=(e,t)=>{m[e]?t.push(m[e]):0!==m[e]&&{272:1}[e]&&t.push(m[e]=f(e).then((()=>{m[e]=0}),(t=>{throw delete m[e],t})))},(()=>{var e={496:0};b.f.j=(t,n)=>{var r=b.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=b.p+b.u(t),s=new Error;b.l(i,(n=>{if(b.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,s,a]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in s)b.o(s,r)&&(b.m[r]=s[r]);if(a)a(b)}for(t&&t(n);c<i.length;c++)o=i[c],b.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunk_fiverr_private_layout_realtime_messages_component=self.webpackChunk_fiverr_private_layout_realtime_messages_component||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var y={};return(()=>{"use strict";b.r(y),b.d(y,{default:()=>Fa});var e={};b.r(e),b.d(e,{subscribe:()=>ve});var t={};b.r(t),b.d(t,{addItem:()=>Rr,itemMarkRead:()=>Mr,itemMarkUnread:()=>Fr});var n=b("yHGu"),r=b.n(n),o=b("4LQx"),i=b.n(o),s=b("t3UH"),a=b("QqJZ");const c="OBS::STATS",l=["count","time","gauge","set","histogram"],u=l.reduce(((e,t)=>Object.assign(e,{[t]:function(e,n,r){let{rate:o,tags:i,enforceRate:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object.entries({prefix:e,metric:n}).forEach(((e,t)=>{let[n,r]=e;if("string"!=typeof r||!r)throw new TypeError("Expected argument ".concat(t," (").concat(n,") to be a string. Instead got ").concat(typeof r," (").concat(r,")"))}));const l=[e,n].join(".");return a.T.deferred(c,{type:t,key:l,value:r,rate:o,tags:i,enforceRate:s})}})),{});Object.defineProperty(u,"prefix",{value:e=>l.reduce(((t,n)=>Object.assign(t,{[n]:u[n].bind(u,e)})),{})});const p=u;var d=b("luq0"),f=b.n(d),m=b("YWdJ");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=e=>{return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:e.type,name:e.name,created_at:new Date(e.createdAt).toISOString(),duration:e.duration||null,value:e.value||null},{context_id:(t=e.context).id,user_id:t.userId.toString(),country_code:t.countryCode,browser:t.browserName,locale:t.locale,currency:t.currency,platform:t.platform});var t},O=(0,m.Z)("OBS::BIG_QUERY_MONICORE"),w="monicore",_="mobile_web",E="web";class C extends Error{constructor(e){super(e),this.name="ContextNotFoundError"}}const S=Date.now(),T=window.performance&&window.performance.now?window.performance:{now:()=>Date.now()-S,timeOrigin:S};var j=b("yeIW");const P=()=>{const{pageCtxId:e,userId:t,countryCode:n,locale:r,isMobile:o,currency:i}=(0,j.Z)();return{id:e||"",userId:t||"",countryCode:n||"",locale:r||"",currency:i||"",platform:o?_:E}},k="event",x="error",A="measure",I=[k,x],N="START_SPAN_ERROR",D="END_SPAN_ERROR",L="ADD_EVENT_ERROR",R="ADD_ERROR_ERROR",M=()=>T.now()+(()=>{let e=T.timeOrigin;return"number"!=typeof e&&(e=T.timing&&T.timing.navigationStart),e})(),F=e=>!(!(0,d.isUndefined)(e)&&!(0,d.isString)(e))||(s.Z.error("Expected value to be a string. Instead got a ".concat(typeof e),{caughtBy:w,value:e}),!1),B=e=>!(!(0,d.isString)(e)||(0,d.isEmpty)(e))||(s.Z.error("Expected name to be a string. Instead got a ".concat(typeof e),{caughtBy:w,name:e}),!1),z=()=>{p.count("monicore","context_not_found")},q=e=>(e=>{e.context.isKnownCrawler||O(v(e))})(e),U=e=>{if(B(e))try{((e,t)=>{window._monicore_spans||(window._monicore_spans={}),window._monicore_spans[e]=t})(e,M())}catch(e){e instanceof C?z():s.Z.warn(e,{caughtBy:w,code:N})}},H=(e,t)=>{if(B(e)){F(t)||(t=void 0);try{const n=M(),r=(e=>{if(window._monicore_spans)return window._monicore_spans[e]})(e);if(!r)throw new Error("Span ".concat(e," was ended without beeing previously started"));const o={name:e,duration:n-r,value:t,type:A,createdAt:r,context:P()};q(o)}catch(e){e instanceof C?z():s.Z.warn(e,{caughtBy:w,code:D})}}},Z=(e,t)=>{try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;if(B(e))if(I.includes(n)){F(t)||(t=void 0);try{const r={name:e,value:t,type:n,createdAt:M(),context:P()};q(r)}catch(e){e instanceof C?z():s.Z.warn(e,{caughtBy:w,code:L})}}else s.Z.error('Expected "type" to be event or error. Instead got a '.concat(n),{caughtBy:w,code:L})}(e,t,x)}catch(e){s.Z.warn(e,{caughtBy:w,code:R})}},G=p.prefix("services.layout_server"),V=(G.time,G.count),W=(e,t,n)=>{const r="Layout component: ".concat(t,", failed on entry: ").concat(n,"."),o="layout.CSR.".concat(t,".").concat(n);s.Z.error(e instanceof Error?e:new Error(r),{description:r,componentName:t,entryName:n,package:"@fiverr-private/layout-sdk"}),Z(o),V("layout_component.".concat(t,".error"))};class K extends n.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){const{componentName:n,entryName:r}=this.props;W(e,n,r)}render(){return this.state.hasError?null:this.props.children}}var X=b("jgnj"),J=b.n(X);const Q={INBOX_MESSAGES:"inbox_message_realtime_notification",PINNED_FLASHES:"pinned_flash_realtime_notification"};var Y=b("FCKS");const $=e=>"object"==typeof Fiverr&&"function"==typeof Fiverr[e]||void 0,ee=(te="_logErrorToServer",function(){return $(te)&&Fiverr[te](...arguments)});var te,ne=b("Iwq2");const re=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne.z;return e.split(".").reduce(((e,t)=>"object"==typeof e?e[t]:e),t)},oe=["get","value","set","configurable","enumerable","writable"],ie=["get","value"];function se(e){const t={};function n(e,n){return t[e]=e in t?t[e]:n()}for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];o.forEach((t=>ae.call(e,t,n)))}function ae(e,t){const n=Object.getOwnPropertyDescriptor(this.constructor.prototype,e),r=oe.reduce(((r,o)=>{switch(typeof n[o]){case"undefined":break;case"function":ie.includes(o)?r[o]=()=>t("".concat(e,"$").concat(o),n[o].bind(this)):r[o]=n[o];break;default:r[o]=n[o]}return r}),{});Object.defineProperty(this,e,r)}const ce=new class{constructor(){se(this,"node","browser","development","production","testing","plike","toString")}get node(){return"[object process]"===Object.prototype.toString.call(void 0!==ne.z.process?ne.z.process:0)}get browser(){return ne.z.document&&"function"==typeof ne.z.document.createElement||!this.node&&[typeof document,typeof window].every((e=>"undefined"!==e))}get development(){return this.toString().includes("dev")}get dev(){return this.development}get production(){return this.toString().includes("prod")}get prod(){return this.production}get testing(){return this.toString().includes("test")}get test(){return this.testing}get plike(){return this.toString().includes("like")}toString(){const e=this.node?re("process.env.NODE_ENV"):re("app.environment")||(e=>{if("undefined"==typeof document)return;const t=document.querySelector('meta[name="'.concat(e,'"]'));return t&&t.getAttribute("content")||void 0})("app_environment");return(e||"").toLowerCase()}},le=Symbol.for("SocketHandler"),ue=Symbol.for("SocketSubscriptions"),pe=Symbol.for("AsyncSubscriptionIdPromise"),de=Symbol.for("AsyncSubscriptionIdResolver"),fe="open",me="close",ge="message";ne.z[ue]=ne.z[ue]||new Y.N,ne.z[pe]=ne.z[pe]||new Promise((e=>{ne.z[de]=ne.z[de]||e}));const he=function(){let{data:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){try{e=JSON.parse(e)}catch(t){ee("socketHandler","incomingHandler","unable to parse event: ".concat(e))}e&&"object"==typeof e&&e.eventType&&ne.z[ue].emit(e.eventType,e)}},be=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;"string"==typeof t&&t.split(" ").forEach((t=>ne.z[ue][e](t,n)))},ye={connect:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&!ne.z[le]&&ce.browser?(ne.z[le]=new WebSocket(e),ne.z[de](t.payload.subscription),ne.z[le].addEventListener(fe,(()=>{ne.z[le].addEventListener(ge,he),ye.send(t)})),ne.z[le].addEventListener(me,(function n(){setTimeout((()=>{ye.connect(e,t)}),1500),ne.z[le].removeEventListener(me,n),ne.z[le].removeEventListener(ge,he)})),ye):ye},send:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ce.browser&&1===ne.z[le].readyState&&ne.z[le].send(JSON.stringify(e)),ye},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return be("on",...t)},once:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return be("once",...t)},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return be("off",...t)},getSubscriptionId:()=>ne.z[pe]};function ve(e){return function(e,t){return ye.on(e,t),()=>{ye.off(e,t)}}([Q.INBOX_MESSAGES,Q.PINNED_FLASHES].join(" "),e)}var Oe=b("IX+1"),we=b.n(Oe),_e=b("2a38"),Ee=b("Z30J"),Ce=b("LL9j"),Se=b("JjgO"),Te=b.n(Se);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xe=e=>function(t){const n=Pe(Pe({},(0,j.Z)()),t);return r().createElement(e,n)};var Ae=b("jOia");const Ie={children:Se.func.isRequired,locale:Se.string};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Le=e=>{let{children:t,locale:n=Ae.DEFAULT_LOCALE}=e;return t({i18n:i18n.spawn(n)})};Le.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ie);const Re=xe(Le);function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}class Fe extends r().Component{getChildContext(){return{locale:this.props.locale}}render(){return this.props.children}}Fe.childContextTypes={locale:Te().string,children:Te().any},Fe.propTypes={locale:Te().string,children:Te().any};const Be=e=>{function t(t,n){let{locale:o}=n;return r().createElement(Re,{locale:o},(n=>{let{i18n:o}=n;return r().createElement(e,Me({i18n:o},t))}))}return t.contextTypes={locale:Te().string},t.displayName="I18nProviderHoc(".concat(e.displayName||e.name||"Component",")"),t};function ze(e,t){return function(e){return e.notifications}(e)[t]}function qe(e){return e.toasts}function Ue(e){return qe(e).length>=Ee.OX}function He(e){return qe(e).map((t=>ze(e,t)))}function Ze(e){return e.settings}function Ge(e){return Ze(e).realtimeEnabled}function Ve(e){return e.queue}function We(e){return 0===Ve(e).length}const Ke="QUEUE_ACTIONS_ENQUEUE",Xe="QUEUE_ACTIONS_DEQUEUE",Je="QUEUE_ACTIONS_REMOVE";function Qe(){return(e,t)=>{if(We(t()))return null;const n=Ve(t())[0];return e({type:Xe}),n}}var Ye,$e=new Uint8Array(16);function et(){if(!Ye&&!(Ye="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ye($e)}const tt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const nt=function(e){return"string"==typeof e&&tt.test(e)};for(var rt=[],ot=0;ot<256;++ot)rt.push((ot+256).toString(16).substr(1));const it=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(rt[e[t+0]]+rt[e[t+1]]+rt[e[t+2]]+rt[e[t+3]]+"-"+rt[e[t+4]]+rt[e[t+5]]+"-"+rt[e[t+6]]+rt[e[t+7]]+"-"+rt[e[t+8]]+rt[e[t+9]]+"-"+rt[e[t+10]]+rt[e[t+11]]+rt[e[t+12]]+rt[e[t+13]]+rt[e[t+14]]+rt[e[t+15]]).toLowerCase();if(!nt(n))throw TypeError("Stringified UUID is invalid");return n};const st=function(e,t,n){var r=(e=e||{}).random||(e.rng||et)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return it(r)},at="__ECHO_TABS__",ct="__ECHO_TABS_RESPONSE__",lt="onEchoReportEnd",ut=()=>{new Audio("//fiverr-res.cloudinary.com/video/upload/t_fiverr_audio/kxzjjjzyhrqqo65doz60").play()};class pt{hasFocus(){return document.hasFocus()}}function dt(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function ft(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){dt(i,r,o,s,a,"next",e)}function a(e){dt(i,r,o,s,a,"throw",e)}s(void 0)}))}}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class gt{constructor(e){var t=this;mt(this,"_queue",{}),mt(this,"_queueKickedOff",{}),mt(this,"_gotResponse",{}),mt(this,"_callbacks",{}),mt(this,"_handlers",[]),mt(this,"isFocused",(()=>this._page.hasFocus())),mt(this,"subscribe",(e=>(this._handlers.push(e),()=>{const t=this._handlers.indexOf(e);this._handlers.splice(t,1)}))),mt(this,"broadcast",(e=>{this._channel&&this._channel.postMessage(e)})),mt(this,"_shouldPlaySound",(()=>new Promise((e=>{if(!this._channel)return void e(!0);if(this.isFocused())return void e(!0);const t=st();this._gotResponse[t]=!1,this._callbacks[t]||(this._callbacks[t]={}),this._callbacks[t].onEchoReportEnd=n=>{this._gotResponse[t]=!0,this._anotherTabIsOpen(n)?e(!1):this._currentTabShouldPlaySound(n)?e(!0):e(!1)},this._channel.postMessage({type:at,uid:t,callbackFnName:lt}),setTimeout((()=>{this._gotResponse[t]?e(!1):e(!0)}),600)})))),mt(this,"_anotherTabIsOpen",(e=>e.some((e=>e.isFocused)))),mt(this,"_currentTabShouldPlaySound",(e=>{const t=(0,d.orderBy)(e,"createdAt","desc")[0];return this._createdAt>t.createdAt})),mt(this,"playSound",(0,d.throttle)(ft((function*(){(yield t._shouldPlaySound())&&ut()})),1e3,{trailing:!1})),mt(this,"_onBroadcastMessage",(e=>{let{data:t}=e;const{_tabId:n,_createdAt:r}=this,{type:o,callbackFnName:i,uid:s}=t;switch(o){case at:{const e=this.isFocused();this._channel.postMessage({type:ct,uid:s,tabId:n,createdAt:r,callbackFnName:i,isFocused:e});break}case ct:this._recordInQueue({uid:s,data:t,callbackFnName:i})}this._notifySubscribers(t)})),mt(this,"_notifySubscribers",(e=>{this._handlers.forEach((t=>t(e)))})),mt(this,"_recordInQueue",(e=>{let{uid:t,data:n,callbackFnName:r}=e;this._queue[t]||(this._queue[t]=[]),this._queue[t].push(n),this._queueKickedOff[t]||(this._queueKickedOff[t]=!0,setTimeout((()=>{this._queueKickedOff[t]=!1,this._callbacks[t]&&this._callbacks[t][r]&&this._callbacks[t][r](this._queue[t]),this._queue[t]=[]}),500))})),ce.browser&&(this._page=e,this._createdAt=Date.now(),this._tabId="".concat(st()),"BroadcastChannel"in window&&(this._channel=new BroadcastChannel("pinned_flashes::channel"),this._channel.onmessage=this._onBroadcastMessage))}static create(){const e=new pt;return new gt(e)}}const ht=gt.create(),bt="TAB_COMMUNICATION_NOTIFICATION_CONSUMED",yt=e=>()=>{ht.broadcast(function(e){return{type:bt,payload:e}}(e))};function vt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(".")}const Ot=vt("pinned_flashes","realtime_notifications_package");const wt={count:function(e){p.count(Ot,e)}};function _t(e){return vt("toast",e)}const Et={NOTIFICATION_TOAST_EMITTED:_t("emitted"),NOTIFICATION_TOAST_CLICKED:_t("clicked"),NOTIFICATION_TOAST_DISMISSED:_t("dismissed")},Ct="TOASTS_ACTIONS_ADD",St="TOASTS_ACTIONS_REMOVE";const Tt=e=>t=>{t({type:St,payload:e}),t(function(e){return{type:kt,payload:e}}(e)),t(jt())},jt=()=>(e,t)=>{if(Ue(t()))return;const n=e(Qe());if((0,d.isNil)(n))return;e(function(e){return{type:Ct,payload:e}}(ze(t(),n))),e(yt(n)),wt.count(Et.NOTIFICATION_TOAST_EMITTED)};const Pt="NOTIFICATIONS_ACTIONS_ADD",kt="NOTIFICATIONS_ACTIONS_REMOVE",xt=e=>(t,n,r)=>{let{tabManager:o}=r;const i=n();if(t(function(e){return{type:Pt,payload:e}}(e)),function(e){return Ze(e).soundEnabled}(i)&&o.playSound(),function(e,t){return!!ze(e,t)}(i,e.id))return;const s=o.isFocused()&&!Ue(i);t(function(e){return{type:Ke,payload:e.id}}(e)),s&&t(jt())};const At=e=>t=>{t(function(e){return{type:Je,payload:e}}(e))};const It="SETTINGS_ACTIONS_SET_SOUND_ENABLED",Nt="SETTINGS_ACTIONS_SET_NOTIFICATIONS_ENABLED";function Dt(e){return e.username}const Lt=Te().shape({subscribe:Te().func.isRequired}),Rt=Te().shape({id:Te().string.isRequired,subType:Te().string,msgParams:Te().object}),Mt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(0,d.transform)(n,((t,n)=>{const r=(0,d.result)(e,n);return r&&t.push(r),!t.length}),[])[0]};function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return Bt(Bt({},e),{},{[t[0]]:Mt(e,...t)||n})},Ut="DEFAULT_VALUE",Ht="times",Zt="present",Gt="ribbon",Vt="docs",Wt="bell",Kt="team",Xt="pencil",Jt="member",Qt={admin_moved_gig:Xt,and_co_announcement:Zt,audio_file_deny:Xt,business_accounts_team_invitation_accepted_invitee:Kt,business_accounts_team_invitation_accepted_invitor:Jt,business_accounts_team_invitation_created:Kt,workspaces_team_invitation_accepted:Jt,workspaces_team_invitation_created:Kt,buyer_brief_notification_for_buyer_multi:Vt,buyer_brief_notification_for_buyer_single:Vt,buyer_brief_notification_for_buyer:Vt,buyer_profile_reminder:"form",buying_conversion_prediction_intervention_b:Wt,buying_conversion_prediction_intervention_c:Wt,buying_conversion_prediction_intervention:Wt,byob_user_notification:Zt,custom:Zt,delayed_private_review:Xt,deny_user_notif:Ht,featured_promotion:Gt,free_gig:Zt,gig_handpicked:Gt,gig_pro_toggled_off:Vt,gig_pro_toggled_on:Vt,id_verification_document_unrecognized:Wt,id_verification_failed:Wt,id_verification_indecisive_max_tries:Wt,id_verification_indecisive_try_again:Wt,id_verification_low_quality:Wt,id_verification_passed:Wt,level_down_notification:Gt,level_trs_kept_notification:Gt,level_trs_nominated_notification:Gt,level_two_kept_notification:Gt,level_up_notification:Gt,new_levels_system_notification:Gt,new_user_notification:Vt,notify_user_on_referral_registration:Zt,optional_phone_verification:"phone",pro_seller_account_created:Vt,profile_image_not_unique_deleted:Xt,profile_image_not_unique_warning:Xt,prompt_user_change_password:Vt,request_paused:Vt,request_unapproved:Ht,seo_restructure_announcement:Xt,shopping_balance_deposit_pending:Zt,shopping_balance_deposit_share:Zt,shopping_balance_deposit:Zt,soft_deny_user_notif:Xt,team_member_added:Vt,trigger_id_verification:Wt,try_live:Wt,welcome_back_from_ooo_mode:"suitcase",business_chat_added:Wt},Yt=e=>"inbox"===e.type,$t=e=>(Yt(e)?e.subType="conversation":e.subType=e.sub_type,e),en=e=>{var t;if(!e.profilePicture)return e;const n=null===(t=e.profilePicture.match(/https?:\/\/[^(\s|"|)]*/gi))||void 0===t?void 0:t[0];return n&&(e.profilePictureUrl=n),e},tn=e=>qt(e,["username","msg_params.seller","msg_params.user","msg_params.buyer"]),nn=e=>qt(e,["unreadCount","unread_count"]),rn=e=>qt(e,["type","msg_type"]),on=e=>qt(e,["profilePicture","images.user","msg_params.images.user","msg_params.images.profile_image"]),sn=e=>qt(e,["msg_params.icon"],Qt[e.subType]),an=e=>qt(e,["isRead","is_read"]),cn=e=>qt(e,["online","is_online"]),ln=e=>qt(e,["url","msg_params.full_url","msg_params.url"],"#!"),un=e=>qt(e,["previewImage","images.gig"]),pn=e=>qt(e,["userMessage","params.message_content","preview_text"]),dn=e=>Yt(e)?e:qt(e,["content","params.content","msg_params.content"],Ut),fn=e=>qt(e,["showEncourageSellerReply","show_encourage_seller_reply"]),mn=e=>qt(e,["updatedAt","updated_at"]),gn=e=>[tn,nn,rn,$t,on,sn,an,cn,ln,un,pn,dn,fn,mn,en].reduce(((e,t)=>t(e)),e);function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class bn extends r().Component{constructor(e){super(e),hn(this,"onRealtimeSettingsChange",(()=>{const{realtimeEnabled:e}=this.props;e?this.registerSocket():(this.socketUnsubscribe(),this.socketUnsubscribe=d.noop)})),hn(this,"handleNewNotification",(e=>{const{handleNewNotification:t}=this.props;t(gn(e))})),hn(this,"onCurrentTabStorageChange",(e=>{let{detail:t}=e;this.onStorageChanges(t)})),hn(this,"registerToSettingsChanges",(()=>{window.addEventListener("storage",this.onStorageChanges),document.addEventListener(Ee.gf,this.onCurrentTabStorageChange),document.addEventListener(Ee.Bz,this.onCurrentTabStorageChange)})),hn(this,"onStorageChanges",(e=>{let{key:t,newValue:n}=e;const{setSoundEnabled:r,setNotificationsEnabled:o}=this.props,i="true"===n;switch(t){case Ee.gf:r(i);break;case Ee.Bz:o(i)}})),hn(this,"registerToTryMeDemoEvent",(()=>{document.addEventListener(Ee.Dl,this.onTryMeDemoEvent)})),hn(this,"onTryMeDemoEvent",(()=>{const{username:e}=this.props,t=(e=>({id:"dummy",type:"notifications",sub_type:"try_live",is_read:!0,updated_at:Math.round(Date.now()/1e3),msg_params:{user:e}}))(e);this.handleNewNotification(t)})),this.socketUnsubscribe=d.noop,this.handleCrossTabCommunications=this.handleCrossTabCommunications.bind(this)}componentDidMount(){this.onRealtimeSettingsChange(),this.registerToTryMeDemoEvent(),this.registerToSettingsChanges(),this.props.tabManager.subscribe(this.handleCrossTabCommunications),this.registerWindowFocus()}componentDidUpdate(e){this.props.realtimeEnabled!==e.realtimeEnabled&&this.onRealtimeSettingsChange()}componentWillUnmount(){document.removeEventListener(Ee.Dl,this.onTryMeDemoEvent),window.removeEventListener("storage",this.onStorageChanges),document.removeEventListener(Ee.gf,this.onCurrentTabStorageChange),document.removeEventListener(Ee.Bz,this.onCurrentTabStorageChange),this.socketUnsubscribe()}registerSocket(){const{socket:e}=this.props;this.socketUnsubscribe=e.subscribe(this.handleNewNotification)}registerWindowFocus(){window.addEventListener("focus",this.props.handleFocus)}handleCrossTabCommunications(e){const{type:t}=e;switch(t){case bt:{const t=e.payload;this.props.markNotificationConsumed(t);break}}}render(){return null}}bn.propTypes={socket:Lt,username:Te().string.isRequired,handleNewNotification:Te().func.isRequired,tabManager:Te().object.isRequired,handleFocus:Te().func.isRequired,markNotificationConsumed:Te().func.isRequired,setNotificationsEnabled:Te().func.isRequired,setSoundEnabled:Te().func.isRequired,realtimeEnabled:Te().bool.isRequired};const yn=(0,d.flow)((0,Ce.connect)((e=>({username:Dt(e),realtimeEnabled:Ge(e)})),(e=>({handleNewNotification:t=>e(xt(t)),handleFocus:()=>e((e=>{for(const t of(0,d.range)(Ee.OX))e(jt())})),setSoundEnabled:t=>e({type:It,payload:t}),setNotificationsEnabled:t=>e({type:Nt,payload:t}),markNotificationConsumed:t=>e(At(t))}))),(0,_e.O)(Ee.nO,"Listener"))(bn);function vn(e){const t=document.querySelector('link[rel="shortcut icon"]');t&&t.setAttribute("href",e)}const On={decorate:function(){vn("https://fiverr-res.cloudinary.com/npm-assets/layout-server/favicon-active.9a2c248.ico")},reset:function(){vn("https://fiverr-res.cloudinary.com/npm-assets/layout-server/favicon.52df53a.ico")}};function wn(e){let{isActive:t}=e;return t?r().createElement(En,null):r().createElement(_n,null)}function _n(){return(0,n.useEffect)((()=>{On.reset()}),[]),null}function En(){return(0,n.useEffect)((()=>{On.decorate()}),[]),null}wn.propTypes={isActive:Te().bool.isRequired};const Cn=(0,d.flow)((0,Ce.connect)((e=>{const t=!We(e)||!function(e){return 0===qe(e).length}(e);return{isActive:t}})),(0,_e.O)(Ee.nO,"Favicon"))(wn);var Sn=b("8zM4"),Tn=b("R8iZ"),jn=b.n(Tn);function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){xn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dn=(0,Sn.combineReducers)({notifications:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:{const n=t.payload;return kn(kn({},e),{},{[n.id]:n})}case kt:{const n=t.payload,r=kn({},e);return delete r[n.id],r}default:return e}},toasts:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct:{const n=t.payload;return[...e,n.id]}case St:{const n=t.payload;return e.filter((e=>e!==n.id))}default:return e}},queue:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke:return[...e,t.payload];case Xe:const[,...n]=e;return n;case Je:const r=t.payload;return e.filter((e=>e!==r));default:return e}},settings:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case It:return In(In({},e),{},{soundEnabled:t.payload});case Nt:return In(In({},e),{},{realtimeEnabled:t.payload});default:return e}},username:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}}),Ln="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Sn.compose;var Rn=b("W9mB"),Mn=b("/odS");const Fn={DRAWER:"drawer",TOAST:"toast"};function Bn(e){if(e instanceof Window||e instanceof HTMLDocument)return{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight};const{left:t,top:n,right:r,bottom:o,width:i,height:s}=e.getBoundingClientRect();return{left:t,top:n,right:r,bottom:o,width:i,height:s}}const zn=(e,t)=>e-t,qn=(e,t)=>t-e;function Un(e){let{container:t=window,percent:n=50}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Bn(e),o=Bn(t),i=n/100,s=e=>{let[t,n,s]=e;return s(r[t],o[t])+r[n]>=r[n]*i};return!["width","height"].some((e=>0===r[e]))&&[["top","height",zn],["left","width",zn],["right","width",qn],["bottom","height",qn]].every(s)}const Hn=new class{constructor(e){se(this,"available");try{this.storage=ce.browser&&window[e]}catch(e){}["get","set"].forEach((e=>this[e]=this[e].bind(this)))}get available(){if(!ce.browser||!this.storage)return!1;const e=Math.random().toString(36).substring(2);try{return this.storage.setItem(e,!0),this.storage.removeItem(e),!0}catch(e){return!1}}get(e){if(!this.available)return;const t=this.storage.getItem(e);try{return JSON.parse(t)}catch(e){return t}}set(e,t){return this.available?new Promise(((n,r)=>{try{this.storage.setItem(e,JSON.stringify(t)),n()}catch(e){r(e)}})):new Promise((e=>e))}remove(e){this.available&&this.storage.removeItem(e)}size(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=!t.length;let o=0;r&&(t=Array.from(Array(this.storage.length)).map(((e,t)=>this.storage.key(t))));const i=t.reduce(((e,t)=>{const n=(t+this.storage.getItem(t)).length;return e[t]=n,r&&(o+=n),e}),{});return r&&Object.assign(i,{total:o}),i}}("localStorage");function Zn(e){const{width:t,height:n}=e.getBoundingClientRect();if(0!==t||0!==n)return null;for(;e;){if(e===document.body)return null;if("none"===window.getComputedStyle(e).display)return e;e=e.parentElement}return e}const Gn="collect-impressions",Vn={capture:!1,once:!1,passive:!1},Wn="impressionable_events",Kn="data-impression-collected",Xn=["load","resize","scroll","touchmove"];var Jn=b("9Bnk");const Qn=e=>{e&&!f().isEmpty(e)&&Jn.Z.send(...e)};function Yn(){const e=Hn.get(Wn);e&&(Qn(e),Hn.set(Wn,[]))}try{Yn.throttled=f().throttle(Yn,500,{leading:!1}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",Yn,{once:!0}):Yn(),window.addEventListener("beforeunload",Yn,{once:!0})}catch(e){}const $n={data:[],container:"undefined"!=typeof window?window:null,DOMAttribute:"id",dataIdentifier:"id"};class er{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ce.browser)throw new Error("Impressionable can not be instantiated from a non browser environment");this.options=Object.assign({},$n,e),this.options.DOMSelector=this.options.DOMSelector||"[".concat(this.options.DOMAttribute,"]");const{data:t,container:n,DOMSelector:r,excludeDOMSelector:o,dataProperty:i,dataIdentifier:s}=this.options;if(!Array.isArray(t))throw new TypeError('Impressionable must receive a "data" array argument. Got '.concat(typeof t));const a=n===window?document.body:n;if(!a)throw new Error("Impressionable container (when passed) expects a DOM element. Got a ".concat(typeof n));const c=Array.from(a.querySelectorAll("".concat(r,":not([").concat(Kn,'="true"])'))),l=o?Array.from(a.querySelectorAll(o)):[],u=f().without(c,...l);Object.assign(this,{container:n,impressed:[],unimpressed:u}),this.data=this.options.data.reduce(((e,t,n)=>(s in t&&(e[t[s]]=Object.assign({$index:n},function(e){try{return JSON.parse(JSON.stringify(e))}catch(e){throw new SyntaxError("Data was expected to be valid for JSON. Got error: ".concat(e))}}(i?f().get(t,i):t))),e)),{}),this.collect=f().throttle(this.collect.bind(this),200,{leading:!1}),this.live()}collect(){const{container:e}=this,t=e===window||Un(e,{percent:100}),n=[];let r=this.unimpressed.length;for(;r--;){const o=this.unimpressed[r];if(!Un(o,{container:e}))continue;if(!t&&!Un(o))continue;const i=this.getImpressionData(o);i?(n.push(i),o.setAttribute(Kn,"true")):o.setAttribute(Kn,"error"),this.impress(r)}return n.length&&(this.storeImpressions(...n),Yn.throttled()),this}impress(e){this.impressed.push(...this.unimpressed.splice(e,1)),this.unimpressed.length||this.retire()}getImpressionData(e){const t=e.getAttribute(this.options.DOMAttribute);let n=this.data[t];if("function"==typeof this.options.enrich){const t=this.options.enrich(n,e);"object"!=typeof t&&!1!==t||(n=t)}return n}storeImpressions(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"function"==typeof this.options.onImpression&&t.forEach(this.options.onImpression),Hn.available?this.stored=t:Qn(t)}get stored(){return Hn.get(Wn)||[]}set stored(e){const t=this.stored;t.push(...e),Hn.set(Wn,t).catch((()=>{Qn(...t),Hn.remove(Wn),p.count("fe_events.error.impressionable","localstorage",1)}))}static get CUSTOM_EVENT(){return Gn}get containerEvents(){const e=[Gn];return this.container!==window&&e.push("scroll","touchmove"),e}live(){var e;this.containerEvents.forEach((e=>this.container.addEventListener(e,this.collect,Vn))),Xn.forEach((e=>window.addEventListener(e,this.collect,Vn))),(e=this.container,new Promise(((t,n)=>{ce.browser||n("emerge can not be triggered from a non browser environment");const r=Zn(e);if(null===r)return void t(e);if("undefined"==typeof MutationObserver)return void t(e);const o=new MutationObserver((()=>{null===Zn(e)&&(t(e),o.disconnect())}));o.observe(r,{attributes:!0})}))).then(this.collect).catch((e=>{throw e}))}die(){this.containerEvents.forEach((e=>this.container.removeEventListener(e,this.collect,Vn))),Xn.forEach((e=>window.removeEventListener(e,this.collect,Vn)))}retire(){this.retired||Object.assign(this,{impressed:[],unimpressed:[],data:{},options:{},retired:!0}).die()}}const tr=e=>{const t=100/e;return(0,d.range)(0,101,t).map((e=>e/100))},nr=e=>{let{observableRef:t=null,onObserve:r=Function.prototype,onIntersect:o=Function.prototype,onNotSupported:i=Function.prototype,intersectionThreshold:s=0,thresholdSteps:a=5}=e;return(0,n.useEffect)((()=>{const e=e=>{const t={threshold:tr(a)},n=new IntersectionObserver((t=>{const[{intersectionRatio:i}]=t,a=i>0,c=i>=s;a&&o({intersectionRatio:i}),a&&c&&(r({intersectionRatio:i}),n.unobserve(e))}),t);return n};return(()=>{if(!window||!window.IntersectionObserver)return void i();if(!t)throw new Error("observableRef is not defined");const n=t.current,r=e(n);return n&&r.observe(n),()=>r.disconnect()})()}),[t,r,o,i,s,a]),t};var rr=b("AXA+");const or=e=>{let{buildImpressionData:t=d.noop,eventKey:r}=e;const o=(0,n.useRef)(),i=(0,n.useRef)(),s=(0,n.useCallback)(((e,n)=>{const{events:o}=rr.E.IMPRESSION,i=o[r],s=t(n);return i((0,d.merge)({},e,s))}),[t,r]),a=(0,n.useCallback)((()=>{o.current&&(i.current&&i.current.die(),i.current=new er({container:o.current,enrich:s}))}),[i,o,s]);(0,n.useEffect)(a,[]);return nr({observableRef:o,onObserve:()=>{if(!i.current)return;(0,d.size)(i.current.unimpressed)>0&&i.current.collect()}}),{containerRef:o}},ir=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e;return t=>n=>r().createElement(t,e(n))};b("jEKc");function sr(e){let{username:t,imageUrl:n,online:o}=e;const i=we()("profile-picture",{online:o});return r().createElement("div",{className:i,title:t},t&&r().createElement("div",{className:"user-initial font-accent"},t[0]),n&&r().createElement("div",{style:{backgroundImage:"url(".concat(n,")")},className:"user-image"}))}sr.propTypes={username:Te().string,imageUrl:Te().string,online:Te().bool},sr.defaultProps={online:!1};const ar=e=>{const t=document.createElement("div");t.innerHTML=e;const n=t.querySelector("img");return n?n.getAttribute("src"):null},cr=(0,d.flow)(ir((function(){let{item:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{username:e.username,online:e.online,imageUrl:ar(e.profilePicture)}})),(0,_e.O)(Ee.uo,"ProfilePicture"))(sr);b("vzmT");function lr(e){let{icon:t,isRead:n}=e;const o=we()(["notification-icon",t],{read:n});return r().createElement("i",{className:o})}lr.propTypes={icon:Te().string,isRead:Te().bool},lr.defaultProps={icon:"bell",isRead:!1};const ur=ir((e=>{let{item:t}=e;return{isRead:t.isRead,icon:t.icon}}))(lr),pr="notifications";var dr=b("/jHP"),fr=b.n(dr);const mr=e=>!0===e?"":"=".concat(encodeURIComponent(e)),gr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((t=>t+mr(e[t]))).join("&")},hr=/\(?([^(]?):(\w+)\)?/g,br="[pathfinder]:",yr="https://www.fiverr.com",vr="/",Or="__dev__",wr=(e,t)=>{const n=[br,e].join(" ");s.Z.error(n),"function"==typeof t&&t(n)},_r=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{errorCallback:r,query:o,absolute:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"string"!=typeof e)return wr("Route missing for ".concat(e),r),vr;if(0===e.indexOf(Or))return wr("Using dev only route. Make sure to replace it before going live."),vr;try{t=fiverrRoutes[e]}catch(e){return wr("Missing global routes object",r),vr}if(!t)return wr("Can't find the requested route (".concat(e,"). It may be misspelled or got removed"),r),vr;const s=[];return t=t.replace(hr,((e,t,r)=>{if(n){const e=n[r];if(e)return"".concat(t).concat(e)}return"("!==e[0]&&s.push(r),""})),s.length?(wr("Required params missing for ".concat(e," route: ").concat(s.join(", ")),r),vr):(o&&(t=[t,gr(o)].join("?")),i?yr+t:t)};var Er=b("fbkA");function Cr(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Sr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Cr(i,r,o,s,a,"next",e)}function a(e){Cr(i,r,o,s,a,"throw",e)}s(void 0)}))}}const Tr="notifications_drawer_package/src/api/toggleRead/index.js",jr="Failed toggling item state",Pr={markNotificationUnread:_r("mark_notifications_item_as_unread"),markNotificationRead:_r("mark_notifications_item_as_read"),markConversationUnread:_r("mark_as_unread_conversations"),markConversationRead:_r("mark_as_read_conversations")},kr=function(){var e=Sr((function*(e){try{return yield fr()({url:Pr.markNotificationUnread,method:"POST",data:{id:e}})}catch(e){(0,Er.H)(e,{module:Ee.co,payload:{filename:Tr,url:Pr.markNotificationUnread,action:"markNotificationUnread",message:jr}})}}));return function(t){return e.apply(this,arguments)}}(),xr=function(){var e=Sr((function*(e){try{return yield fr()({url:Pr.markNotificationRead,method:"POST",data:{id:e}})}catch(e){(0,Er.H)(e,{filename:Tr,url:Pr.markNotificationRead,action:"markNotificationRead",message:jr})}}));return function(t){return e.apply(this,arguments)}}(),Ar=function(){var e=Sr((function*(e){try{return yield fr()({url:Pr.markConversationUnread,method:"POST",data:{id:e}})}catch(e){(0,Er.H)(e,{filename:Tr,url:Pr.markConversationUnread,action:"markConversationUnread",message:jr})}}));return function(t){return e.apply(this,arguments)}}(),Ir=function(){var e=Sr((function*(e){try{return yield fr()({url:Pr.markConversationRead,method:"POST",data:{id:e}})}catch(e){(0,Er.H)(e,{filename:Tr,url:Pr.markConversationRead,action:"markConversationRead",message:jr})}}));return function(t){return e.apply(this,arguments)}}(),Nr=e=>e===pr,Dr="ACTION_TYPE_MONITOR",Lr=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{type:Dr,label:["NotificationsDrawer",e,...n].filter(Boolean).join(".")}},Rr=(e,t)=>({source:e,item:gn(t),type:"ITEM_ADD"}),Mr=e=>{let{source:t,id:n}=e;return e=>{(e=>{let{source:t,id:n}=e;(Nr(t)?xr:Ir)(n)})({source:t,id:n}),e(Lr(t,"mark_item","read")),e({source:t,id:n,type:"ITEM_MARK_READ"})}},Fr=e=>{let{source:t,id:n}=e;return e=>{(e=>{let{source:t,id:n}=e;(Nr(t)?kr:Ar)(n)})({source:t,id:n}),e(Lr(t,"mark_item","unread")),e({source:t,id:n,type:"ITEM_MARK_UNREAD"})}},Br="ui-toggle-prevent-close",zr={WILL_OPEN:"togglerWillOpen",DID_OPEN:"togglerDidOpen",WILL_CLOSE:"togglerWillClose",DID_CLOSE:"togglerDidClose"},qr="shouldPreventCloseAction";function Ur(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Hr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Ur(i,r,o,s,a,"next",e)}function a(e){Ur(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Gr=e=>"function"==typeof e,Vr=function(e){if(Gr(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e(...n)}};class Wr extends n.Component{constructor(e){var t;super(e),t=this,Zr(this,"onBodyClick",(e=>{const{isOpen:t}=this.state,{target:n}=e;return t?Gr(this.shouldPreventCloseAction)&&!0===this.shouldPreventCloseAction(e)||this.shouldPreventPropagationByClassName(n)||this.shouldPreventPropagationByElement(n)?null:void this.close(e):null})),Zr(this,"notPropagatingElements",new Set),Zr(this,"open",function(){var e=Hr((function*(e){e&&e.persist&&e.persist();const n=Vr(t[zr.WILL_OPEN],e);n instanceof Promise&&(yield n),t.setState({isOpen:!0},(()=>{t.bindClickListener(),Vr(t[zr.DID_OPEN],e)}))}));return function(t){return e.apply(this,arguments)}}()),Zr(this,"close",function(){var e=Hr((function*(e){e&&e.persist&&e.persist();const n=Vr(t[zr.WILL_CLOSE],e);n instanceof Promise&&(yield n),t.setState({isOpen:!1},(()=>{t.removeClickListener(),Vr(t[zr.DID_CLOSE],e)}))}));return function(t){return e.apply(this,arguments)}}()),Zr(this,"toggle",function(){var e=Hr((function*(e){const{isOpen:n}=t.state,r=n?t.close:t.open;yield r(e)}));return function(t){return e.apply(this,arguments)}}()),Zr(this,"bindClickListener",(()=>{const{bindBodyClickListener:e}=this.props;!1!==e&&document.body.addEventListener("click",this.onBodyClick)})),Zr(this,"removeClickListener",(()=>document.body.removeEventListener("click",this.onBodyClick))),Zr(this,"shouldPreventPropagationByClassName",(e=>!(!e||!e.classList)&&e.classList.contains(Br))),Zr(this,"shouldPreventPropagationByElement",(e=>{if(!e)return!1;if(!e.contains)return!1;if(!this.notPropagatingElements.size)return!1;if(this.notPropagatingElements.has(e))return!0;for(const t of this.notPropagatingElements)if(t.contains&&t.contains(e))return!0;return!1})),Zr(this,"preventCloseAction",(e=>{if(e)return this.notPropagatingElements.has(e)?null:void this.notPropagatingElements.add(e)})),this.state={isOpen:e.defaultOpen||!1},[zr.WILL_OPEN,zr.DID_OPEN,zr.WILL_CLOSE,zr.DID_CLOSE,qr].forEach((t=>{Gr(this[t])?this[t]=this[t].bind(this):Gr(e[t])&&(this[t]=e[t].bind(this))}),this)}componentDidMount(){const{isOpen:e}=this.state;e&&this.bindClickListener()}componentWillUnmount(){this.removeClickListener()}render(){const{children:e}=this.props;if(!["undefined","function"].includes(typeof e))throw new TypeError("Toggler: `children` must be a function");const{close:t,open:n,toggle:r,preventCloseAction:o}=this,{isOpen:i}=this.state,s=this.toggleContent?this.toggleContent.bind(this):e;return s?s({isOpen:i,close:t,open:n,toggle:r,preventCloseAction:o}):null}}Wr.propTypes={children:Se.node,bindBodyClickListener:Se.bool,defaultOpen:Se.bool},Wr.defaultProps={defaultOpen:!1},Object.assign(Wr,{PREVENT_CLOSE_CLASS:Br});const Kr=Wr;var Xr=b("Aoh0");const Jr="left",Qr="right",Yr="top",$r="bottom",eo=(e,t)=>Object.keys(to).map((e=>"".concat(t,".").concat(e))).join(", "),to={LEFT:Jr,RIGHT:Qr,TOP:Yr,BOTTOM:$r,LEFT_TOP:"left-top",LEFT_BOTTOM:"left-bottom",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},no={[Jr]:Qr,[Qr]:Jr,[Yr]:$r,[$r]:Yr},ro={CLICK:"click",HOVER:"hover"},oo="Position passed is not a valid position. Valid positions include: ".concat(eo(0,"POSITIONS")),io="Trigger passed is not a valid trigger. Valid triggers include: ".concat(eo(0,"TRIGGERS")),so={attributes:["class"],childList:!0,subtree:!0,characterData:!0},ao=e=>{let{position:t,boxDimensions:n,anchorDimensions:r}=e;const{innerWidth:o,innerHeight:i}=window;switch(t){case to.LEFT:return r.left-n.width<0;case to.RIGHT:return r.right+n.width>o;case to.TOP:return r.top-n.height<0;case to.BOTTOM:return r.bottom+n.height>i;default:return!1}};var co=b("uPAo"),lo=b.n(co);function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const mo=e=>e?e.scrollHeight>e.clientHeight?e:mo(e.parentNode):null,go=e=>{let{position:t,box:n,anchor:r,allowOverflow:o,fullWidth:i,boxFitContent:s,appendToBody:a}=e;if(!n||!r)return{};const c=r.getBoundingClientRect();let l;l=a?c:{top:r.offsetTop,bottom:r.offsetTop+c.height,left:r.offsetLeft,right:r.offsetLeft+c.width,width:c.width,height:c.height};const u=n.getBoundingClientRect(),{top:p,bottom:f,left:m,right:g,width:h,height:b}=l,{width:y,height:v}=u,O=p+b/2-v/2,w=m+h/2-y/2;let _,E,[C,S]=t.split("-");!o&&ao({boxDimensions:u,anchorDimensions:c,position:C})&&(C=no[C]);const T=(e=>(0,d.camelCase)(["padding",(0,d.capitalize)(no[e])].join("")))(C),j=(e=>{let{position:t,anchorDimensions:n,boxDimensions:r}=e;switch(t){case to.LEFT:return n.left-r.width;case to.RIGHT:return n.left+n.width;case to.TOP:return n.top-r.height;case to.BOTTOM:return n.bottom}})({anchorDimensions:l,boxDimensions:u,position:C});switch(C){case to.LEFT:case to.RIGHT:E=O,_=j;break;case to.TOP:case to.BOTTOM:E=j,_=w}switch(S){case to.LEFT:_=m;break;case to.RIGHT:_=g-y;break;case to.TOP:E=p;break;case to.BOTTOM:E=f-v}i&&(_=8);const P="".concat(a?window.scrollX+_:_,"px"),k="".concat(a?window.scrollY+E:E,"px");return{style:po(po(po({},i&&{width:"".concat(window.innerWidth-16,"px")}),s&&{minWidth:"".concat(l.width,"px")}),{},{left:P,top:k,[T]:"".concat(8,"px")}),position:[C,S].filter(Boolean).join("-")}},ho=e=>{let{children:t,position:i,container:s,anchor:a,className:c,contentClassName:l,allowOverflow:u=!1,fullWidth:p=!1,boxFitContent:d=!0,isOpen:f=!1,style:m={},onMouseLeave:g=Function.prototype,onMouseEnter:h=Function.prototype,preventCloseAction:b=Function.prototype,appendToBody:y=!0,trigger:v=ro.CLICK,withAnimation:O,adjustPositionAfterMillis:w=0}=e;const[_,E]=(0,n.useState)(null),[C,S]=(0,n.useState)(!1),[T,j]=(0,n.useState)(i),P=()=>{if(!f)return;const e=go({position:i,anchor:a,box:_,allowOverflow:u,fullWidth:p,boxFitContent:d,appendToBody:y});j(e.position),Object.assign(_.style,e.style)};!C&&_&&w>0&&(setTimeout((()=>{P()}),w),S(!0));const k=we()(lo().box,{[lo().boxHidden]:!f,[lo().withAnimation]:O},c),x=we()(lo().content,l);if((0,n.useEffect)((()=>{if(!_)return;const e=new MutationObserver(P);e.observe(_,so),f&&P();const t=mo(a);return t&&t.addEventListener("scroll",P),window.addEventListener("resize",P),y&&v===ro.HOVER&&window.addEventListener("scroll",P),()=>{e.disconnect(),t&&t.removeEventListener("scroll",P),window.removeEventListener("resize",P),y&&v===ro.HOVER&&window.removeEventListener("scroll",P)}}),[_,a,i,u,p,f]),!Object.values(to).includes(i))throw new Error(oo);return s&&t?(0,o.createPortal)(r().createElement("aside",{className:k,"data-position":T,ref:e=>{b(e),E(e)},style:m,onMouseLeave:g,onMouseEnter:h},r().createElement("div",{className:x},(0,Xr.Z)(t))),s):null};ho.propTypes={children:Te().node.isRequired,position:Te().oneOf(Object.values(to)).isRequired,container:Te().object,isOpen:Te().bool,style:Te().object,anchor:Te().object,className:Te().string,contentClassName:Te().string,allowOverflow:Te().bool,fullWidth:Te().bool,boxFitContent:Te().bool,preventCloseAction:Te().func,onMouseLeave:Te().func,onMouseEnter:Te().func,appendToBody:Te().bool,trigger:Te().oneOf(Object.values(ro)),withAnimation:Te().bool.isRequired,adjustPositionAfterMillis:Te().number};const bo=ho;var yo=b("AtMI"),vo=b.n(yo);const Oo=["trigger","children"];function wo(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function _o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){wo(i,r,o,s,a,"next",e)}function a(e){wo(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){So(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function So(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function To(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const jo=e=>"function"==typeof e,Po=e=>{const t=(0,j.Z)().isMobile&&(e=>{const[t]=e.split("-");return[to.LEFT,to.RIGHT].includes(t)})(e);return t?to.TOP:e};class ko extends Kr{constructor(e){super(e),this.onClick=e=>{this.openDelayTimeout||this.toggle(e)},this.delayOpen=(e,t)=>new Promise((n=>{t.target?this.openDelayTimeout=setTimeout((()=>{n(),this.clearDelayOpen()}),e):n()})),this.state=this.state||{},Object.assign(this.state,{container:null}),this.mouseLeaveTimeout=null,this.openDelayTimeout=null,this.cancelMouseLeave=this.cancelMouseLeave.bind(this),this.setContentRef=this.setContentRef.bind(this),this.getCustomStyles=this.getCustomStyles.bind(this)}componentWillUnmount(){const{container:e}=this.state,{appendToBody:t}=this.props;this.clearDelayOpen(),this.cancelMouseLeave(),e&&(t?document.body.removeChild(e):this.anchorElement.parentNode.removeChild(e))}get popoverProps(){const{open:e,close:t,toggle:n,preventCloseAction:r}=this,{isOpen:o}=this.state,i=this.props,{trigger:s,children:a}=i,c=To(i,Oo);return Object.assign({open:e,close:t,toggle:n,preventCloseAction:r,isOpen:o},c)}get eventHandlers(){var e=this;const{trigger:t}=this.props,{isOpen:n}=this.state;switch(t){case ro.CLICK:return{onClick:this.onClick};case ro.HOVER:return{onMouseEnter:function(){e.cancelMouseLeave(),!n&&e.open(...arguments)},onMouseLeave:()=>{this.clearDelayOpen(),this.mouseLeaveTimeout=setTimeout(this.close,50)}};default:throw new Error(io)}}get wrapperClasses(){const{trigger:e,className:t,openClassName:n,appendToBody:r}=this.props,{isOpen:o}=this.state;return we()(vo().popover,{[vo().clickable]:e===ro.CLICK},{[vo().inlineAppend]:!r},t,{[n]:n&&o})}get containerClasses(){const{containerClassName:e,className:t}=this.props;return we()(e,t,vo().popoverContainer)}generateContainer(){if(this.state.container)return;const{appendToBody:e}=this.props,t=document.createElement("div");t.className=this.containerClasses,e?document.body.appendChild(t):this.anchorElement.parentNode.appendChild(t),this.setState({container:t})}cancelMouseLeave(){clearTimeout(this.mouseLeaveTimeout)}clearDelayOpen(){clearTimeout(this.openDelayTimeout),this.openDelayTimeout=null}getCustomStyles(){const{style:e,maxWidth:t}=this.props;return t?Co(Co({},e),{},{maxWidth:t}):e}setContentRef(e){const{isOpen:t}=this.state,{contentRef:n}=this.props;this.anchorElement=e,t&&this.generateContainer(),n(e)}togglerWillOpen(e){var t=this;return _o((function*(){const{willOpen:n,delay:r}=t.props;t.generateContainer(),r&&(yield t.delayOpen(r,e)),jo(n)&&(yield n(e))}))()}togglerDidOpen(e){const{onOpen:t}=this.props;jo(t)&&t(e)}togglerWillClose(e){var t=this;return _o((function*(){const{willClose:n}=t.props;jo(n)&&(yield n(e))}))()}togglerDidClose(e){const{onClose:t}=this.props;jo(t)&&t(e)}render(){const{eventHandlers:e}=this,{children:t,contentClassName:n,content:o,position:i,allowOverflow:s,fullWidth:a,boxFitContent:c,boxClassName:l,boxContentClassName:u,appendToBody:p,trigger:d,withAnimation:f,adjustPositionAfterMillis:m}=this.props,{isOpen:g,container:h}=this.state,{isMobile:b}=(0,j.Z)(),y=we()(vo().content,n),v=Po(i);return r().createElement("div",{className:this.wrapperClasses,ref:this.preventCloseAction},r().createElement("span",Co({className:y,ref:this.setContentRef},e),(0,Xr.Z)(t,this.popoverProps)),r().createElement(bo,{isOpen:g,className:l,contentClassName:u,style:this.getCustomStyles(),container:h,anchor:this.anchorElement,position:v,allowOverflow:s,fullWidth:b&&a,boxFitContent:c,onMouseEnter:this.cancelMouseLeave,onMouseLeave:e.onMouseLeave,preventCloseAction:this.preventCloseAction,appendToBody:p,trigger:d,withAnimation:f,adjustPositionAfterMillis:m},(0,Xr.Z)(o,this.popoverProps)))}}ko.displayName="Popover",ko.propTypes={children:Se.node.isRequired,content:Se.node.isRequired,position:(0,Se.oneOf)(Object.values(to)),allowOverflow:Se.bool,trigger:(0,Se.oneOf)(Object.values(ro)),contentRef:Se.func,className:Se.string,contentClassName:Se.string,openClassName:Se.string,containerClassName:Se.string,boxClassName:Se.string,boxContentClassName:Se.string,style:Se.object,fullWidth:Se.bool,boxFitContent:Se.bool,willOpen:Se.func,willClose:Se.func,delay:Se.number,onOpen:Se.func,onClose:Se.func,defaultOpen:Se.bool,appendToBody:Se.bool,maxWidth:(0,Se.oneOfType)([Se.number,Se.string]),withAnimation:Se.bool},ko.defaultProps={position:to.TOP,allowOverflow:!1,fullWidth:!1,boxFitContent:!0,trigger:ro.CLICK,style:{},contentRef:Function.prototype,delay:0,defaultOpen:!1,appendToBody:!0,withAnimation:!1},Object.assign(ko,{POSITIONS:to,TRIGGERS:ro});const xo=ko;const Ao=b("jLoi").EH_;var Io=b("ONtt"),No=b.n(Io);const Do=["className","boxClassName","boxContentClassName","content","delay","withAnimation"];function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const{POSITIONS:Fo,TRIGGERS:Bo}=xo,zo=e=>{let{className:t,boxClassName:n,boxContentClassName:o,content:i,delay:s,withAnimation:a}=e,c=Mo(e,Do);const l="number"==typeof s?s:s&&Ao||0,u=we()(No().tooltip,t),p=we()(No().box,n),d=we()(No().boxContent,o),{isMobile:f,isTouch:m}=(0,j.Z)(),g=m?Bo.CLICK:Bo.HOVER;return r().createElement(xo,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(n),!0).forEach((function(t){Ro(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:u,key:s.toString(),delay:l,content:i,fullWidth:f,boxFitContent:!1,trigger:g,position:Fo.TOP,boxClassName:p,boxContentClassName:d,withAnimation:a},c))};zo.displayName="Tooltip",zo.propTypes={delay:(0,Se.oneOfType)([Se.number,Se.bool]),withAnimation:Se.bool},zo.defaultProps={delay:Ao,withAnimation:!0};const qo=xo.propTypes,{delay:Uo}=qo,Ho=Mo(qo,["delay"]);Object.assign(zo.propTypes,Ho),Object.assign(zo,{POSITIONS:Fo});const Zo=zo;b("3SKs");function Go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wo(e){let{isRead:t,toggleRead:n,i18n:o}=e;const i=we()("toggle-read",{read:t}),s=o.t("realtime_notifications.notifications_drawer.mark_".concat(t?"unread":"read"));return r().createElement(Zo,{content:s,position:Zo.POSITIONS.LEFT,containerClassName:"toggle-read-tooltip-container"},r().createElement("button",{className:i,onClick:e=>{e.preventDefault(),e.stopPropagation(),n()}}))}Wo.propTypes={isRead:Te().bool,toggleRead:Te().func,i18n:Te().shape({t:Te().func})};const Ko=(0,Sn.compose)(Be,ir((e=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))))(Wo),Xo=e=>{let{condition:t,children:n}=e;return t?n:null};Xo.propTypes={condition:Te().bool.isRequired,children:Te().node.isRequired};const Jo=Xo,Qo=e=>e&&Number.isInteger(e)?e>99?"99+":"".concat(e):null,Yo=e=>e.type===pr?pr:"conversations";b("8jpx");function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach((function(t){ti(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(e){let{id:t,subType:n,layoutSource:o,isRead:i=!1,unreadCount:s=null,toggleRead:a}=e;const c=we()("unread-container",{read:i}),l=()=>{const e=i?Mn.G.notification.markedAsUnread:Mn.G.notification.markedAsRead,r={id:t,subType:n};Rn.Z.report(e,{item:r,layoutSource:o})};return r().createElement("span",{className:c},r().createElement(Jo,{condition:s>1},r().createElement("span",{className:"unread-count"},s)),r().createElement(Ko,{isRead:i,toggleRead:()=>{l(),a()}}))}ni.propTypes={id:Te().string,subType:Te().string,layoutSource:Te().oneOf(Object.values(Fn)),unreadCount:Te().string,toggleRead:Te().func,isRead:Te().bool};const ri=(0,Sn.compose)((0,Ce.connect)(((e,t)=>{let{item:n}=t;return{source:Yo(n),id:n.id}}),t,((e,t,n)=>{let{itemMarkRead:r,itemMarkUnread:o}=t,{item:i,layoutSource:s}=n;return ei(ei(ei({},e),i),{},{layoutSource:s,toggleRead:()=>i.isRead?o(e):r(e)})})),ir((e=>{let{id:t,subType:n,layoutSource:r,unreadCount:o,toggleRead:i,isRead:s}=e;return{id:t,subType:n,layoutSource:r,toggleRead:i,isRead:s,unreadCount:Qo(o)}})))(ni);var oi=b("tTwn"),ii=b.n(oi);const si="BASE_SANITIZATION_GROUP",ai="HTML_SANITIZATION_GROUP",ci=["a","b","i","u","em","br","span","small","strong"],li=[...ci,"div","p","ol","ul","li"],ui={[si]:ci,[ai]:li},pi=new Set;function di(e,t,n){if(!pi.has(t))return"".concat(t,'="').concat(n,'"')}["onclick","onload","onblur","onfocus","onerror","onkeydown","onkeypress","onkeyup","onkeyup","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup"].forEach((e=>pi.add(e)));const fi=e=>{const t=ui[e];if(!t)throw new Error("The sanitization group does not match one of the accept groups: ".concat(Object.keys(ui).join(",")));return t.reduce(((e,t)=>Object.assign(e,{[t]:[]})),{})},mi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ai;return ii()(e,{whiteList:fi(t),onIgnoreTagAttr:di})},gi="_",hi=new RegExp("\\".concat(gi,"([^").concat(gi).concat(gi,"]+)").concat(gi),"g"),bi="Templates must be functions, instead got:",yi=e=>{s.Z.error([bi,typeof e,"(".concat(JSON.stringify(e),")")].join(" "))},vi=e=>"function"==typeof e,Oi=(e,t)=>{const n=e.split(hi);((e,t)=>{const n=t.length,r=(e.length-1)/2;r!==n&&s.Z.error("The number of template declarations does not match the number of templates provided.",{numberOfTemplates:n,numberOfTemplateDeclarations:r}),t.filter((e=>!vi(e))).forEach(yi)})(n,t);const o=n.map(((e,n)=>{const o=t[(n-1)/2];return n%2==1&&o&&vi(o)?((e,t)=>()=>r().createElement(r().Fragment,null,t(e)))(e,o):(i=e,()=>r().createElement(r().Fragment,null,i));var i}));return r().createElement(r().Fragment,null,o.map(((e,t)=>r().createElement(e,{key:t}))))},wi={k:(0,Se.oneOfType)([Se.string,(0,Se.arrayOf)(Se.string)]).isRequired,locale:Se.string,templates:(0,Se.arrayOf)(Se.func),params:Se.object,parseMarkup:Se.bool};function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach((function(t){Ci(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Si=e=>{let t,{k:n,templates:o,parseMarkup:i=!1,params:s={},locale:a=Ae.DEFAULT_LOCALE}=e;if(!n)return null;try{t=i18n.t(n,Ei(Ei({},s),{},{$scope:a}))}catch(e){t=n}return o?Oi(t,o):i?r().createElement("span",{dangerouslySetInnerHTML:(c=t,l=si,{__html:mi(c,l)})}):t;var c,l};Si.propTypes=Ei({},wi);const Ti=xe(Si);var ji=b("/57Z"),Pi=b("jp82"),ki=b("K4Ks");const xi=6048e5,Ai=2592e6,Ii=31536e6,Ni="general.how_long_ago.",Di=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o={count:Math.floor(r)};return t&&(o.$scope=t),J().t("".concat(e).concat(n),o)};function Li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,{prefix:t=Ni,locale:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Date.now(),o=r-e;return Number.isNaN(o)?"":o<ji.A&&Di(t,n,"just_now")||o<Pi.i&&Di(t,n,"minutes_ago",o/ji.A)||o<ki.K&&Di(t,n,"hours_ago",o/Pi.i)||o<xi&&Di(t,n,"days_ago",o/ki.K)||o<Ai&&Di(t,n,"weeks_ago",o/xi)||o<Ii&&Di(t,n,"months_ago",o/Ai)||Di(t,n,"years_ago",o/Ii)}Object.assign(Li,{MINUTE_IN_MS:ji.A,HOUR_IN_MS:Pi.i,DAY_IN_MS:ki.K,WEEK_IN_MS:xi,MONTH_IN_MS:Ai,YEAR_IN_MS:Ii});var Ri=b("kJGG");const Mi=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"})),Fi=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M8 0.25C3.71875 0.25 0.25 3.71875 0.25 8C0.25 12.2812 3.71875 15.75 8 15.75C12.2812 15.75 15.75 12.2812 15.75 8C15.75 3.71875 12.2812 0.25 8 0.25ZM11.8 10.0344C11.9469 10.1813 11.9469 10.4187 11.8 10.5656L10.5625 11.8C10.4156 11.9469 10.1781 11.9469 10.0312 11.8L8 9.75L5.96562 11.8C5.81875 11.9469 5.58125 11.9469 5.43437 11.8L4.2 10.5625C4.05312 10.4156 4.05312 10.1781 4.2 10.0312L6.25 8L4.2 5.96562C4.05312 5.81875 4.05312 5.58125 4.2 5.43437L5.4375 4.19688C5.58437 4.05 5.82188 4.05 5.96875 4.19688L8 6.25L10.0344 4.2C10.1813 4.05312 10.4187 4.05312 10.5656 4.2L11.8031 5.4375C11.95 5.58437 11.95 5.82188 11.8031 5.96875L9.75 8L11.8 10.0344Z"})),Bi=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M8 0C3.6 0 0 3.6 0 8C0 12.4 3.6 16 8 16C12.4 16 16 12.4 16 8C16 3.6 12.4 0 8 0ZM8 12V9H4V7H8V4L12 8L8 12Z"})),zi=()=>r().createElement("svg",{width:"14",height:"12",viewBox:"0 0 14 12",xmlns:"http://www.w3.org/2000/svg"},r().createElement("g",{clipPath:"url(#clip0)"},r().createElement("path",{d:"M13.3478 10.3128C13.7804 11.0627 13.2373 12 12.3733 12H1.12597C0.260256 12 -0.280259 11.0612 0.151506 10.3128L5.77524 0.562141C6.20806 -0.18807 7.29212 -0.186711 7.72416 0.562141L13.3478 10.3128V10.3128ZM6.7497 8.29687C6.15427 8.29687 5.67158 8.77956 5.67158 9.37499C5.67158 9.97042 6.15427 10.4531 6.7497 10.4531C7.34513 10.4531 7.82783 9.97042 7.82783 9.37499C7.82783 8.77956 7.34513 8.29687 6.7497 8.29687ZM5.72612 4.42157L5.89997 7.60907C5.90811 7.75822 6.03144 7.87499 6.1808 7.87499H7.3186C7.46797 7.87499 7.5913 7.75822 7.59943 7.60907L7.77329 4.42157C7.78208 4.26046 7.6538 4.12499 7.49246 4.12499H6.00692C5.84558 4.12499 5.71733 4.26046 5.72612 4.42157V4.42157Z"})),r().createElement("defs",null,r().createElement("clipPath",{id:"clip0"},r().createElement("rect",{width:"13.5",height:"12"})))),qi=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("g",null,r().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.54839C4.43687 1.54839 1.54839 4.43687 1.54839 8C1.54839 11.5631 4.43687 14.4516 8 14.4516C11.5631 14.4516 14.4516 11.5631 14.4516 8C14.4516 4.43687 11.5631 1.54839 8 1.54839ZM0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z"}),r().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 11C9.65685 11 11 9.65685 11 8C11 6.34315 9.65685 5 8 5C6.34315 5 5 6.34315 5 8C5 9.65685 6.34315 11 8 11Z"}))),Ui=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M15.75 8C15.75 12.2802 12.2802 15.75 8 15.75C3.71978 15.75 0.25 12.2802 0.25 8C0.25 3.71978 3.71978 0.25 8 0.25C12.2802 0.25 15.75 3.71978 15.75 8ZM7.10356 12.1036L12.8536 6.35356C13.0488 6.15831 13.0488 5.84172 12.8536 5.64647L12.1465 4.93937C11.9512 4.74409 11.6346 4.74409 11.4393 4.93937L6.75 9.62869L4.56066 7.43934C4.36541 7.24409 4.04881 7.24409 3.85353 7.43934L3.14644 8.14644C2.95119 8.34169 2.95119 8.65828 3.14644 8.85353L6.39644 12.1035C6.59172 12.2988 6.90828 12.2988 7.10356 12.1036Z"})),Hi=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M8 0C6.41775 0 4.87103 0.469192 3.55544 1.34824C2.23985 2.22729 1.21447 3.47672 0.608967 4.93853C0.00346631 6.40034 -0.15496 8.00887 0.153721 9.56072C0.462403 11.1126 1.22433 12.538 2.34315 13.6569C3.46197 14.7757 4.88743 15.5376 6.43928 15.8463C7.99113 16.155 9.59966 15.9965 11.0615 15.391C12.5233 14.7855 13.7727 13.7602 14.6518 12.4446C15.5308 11.129 16 9.58225 16 8C15.9977 5.87897 15.1541 3.84547 13.6543 2.34568C12.1545 0.845885 10.121 0.00229405 8 0ZM8 2C9.2449 2.00005 10.4585 2.38984 11.4707 3.11467L3.11467 11.4707C2.47494 10.5743 2.09468 9.51886 2.01567 8.42043C1.93667 7.32199 2.16198 6.22303 2.66684 5.2443C3.17171 4.26558 3.93659 3.44495 4.87745 2.8726C5.81831 2.30025 6.89873 1.99833 8 2ZM8 14C6.75511 13.9999 5.54146 13.6102 4.52934 12.8853L12.8853 4.52933C13.5251 5.42574 13.9053 6.48114 13.9843 7.57957C14.0633 8.67801 13.838 9.77697 13.3332 10.7557C12.8283 11.7344 12.0634 12.555 11.1226 13.1274C10.1817 13.6997 9.10127 14.0017 8 14Z"})),Zi=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("g",null,r().createElement("path",{d:"M13.152 1.5h.12a.37.37 0 0 0 .364-.375v-.75A.37.37 0 0 0 13.273 0H2.363A.37.37 0 0 0 2 .375v.75a.37.37 0 0 0 .364.375h.12c0 2.518.976 5.181 2.946 6.5-1.979 1.324-2.945 3.997-2.945 6.5h-.121a.37.37 0 0 0-.364.375v.75a.37.37 0 0 0 .364.375h10.909a.37.37 0 0 0 .363-.375v-.75a.37.37 0 0 0-.363-.375h-.121c0-2.518-.976-5.181-2.945-6.5 1.978-1.324 2.944-3.997 2.944-6.5zm-1.455 0a8.09 8.09 0 0 1-.385 2.5H4.324a8.09 8.09 0 0 1-.385-2.5h7.758zM11.312 12H4.324c.628-1.923 1.956-3.25 3.494-3.25 1.538 0 2.867 1.327 3.494 3.25z"})));var Gi=b("Gf4R"),Vi=b.n(Gi);function Wi(e,t){let{dateTime:n,subCategory:o,status:i}=e,{locale:s}=t;const a=Li(n,{prefix:"realtime_notifications.notifications_drawer.long_ago.",locale:s});return r().createElement("footer",{className:Vi().itemMeta},n&&r().createElement(r().Fragment,null,r().createElement("time",{dateTime:n},a),r().createElement(Ki,null)),o&&r().createElement(r().Fragment,null,r().createElement("span",{className:Vi().subCategory},o),r().createElement(Ki,null)),i&&r().createElement(Zo,{content:r().createElement(Ti,{k:"realtime_notifications.notifications_drawer.status.".concat(Xi(i))}),containerClassName:Vi().tooltip,boxContentClassName:Vi().status,position:Zo.POSITIONS.LEFT},r().createElement(Ri.Z,{size:10,className:Vi().icnStatus},function(e){switch(e){case"rejected":return Fi;case"delivered":return Bi;case"late":return zi;case"new":return qi;case"completed":return Ui;case"cancelled":return Hi;case"in-progress":return Zi;default:return null}}(i))))}function Ki(){return r().createElement(Ri.Z,{size:2,className:Vi().spacer},Mi)}function Xi(e){return(0,d.isNil)(e)?e:e.split("-").join("_")}const Ji=e=>(0,d.result)(e,"msg_params.sub_category"),Qi=e=>(0,d.result)(e,"msg_params.order_status");Wi.propTypes={dateTime:Te().number,subCategory:Te().string,status:Te().string},Wi.contextTypes={locale:Te().string};const Yi=ir((e=>{let{item:t}=e;return{dateTime:1e3*(t.updated_at||0),subCategory:Ji(t),status:Qi(t)}}))(Wi),$i={browserLanguage:"",countryCode:"",currency:"",experienceLocale:"en-US",formattingLocale:"en-GB",shouldFormat:!0},es=Symbol(),ts=()=>{const{computedLocale:e}=(0,j.Z)();let t;return t=e?{formattingLocale:e}:f().get(window,"initialData.LocalizationContext"),t||(window&&!window[es]&&(window[es]=!0,s.Z.error({message:"Browser localization context does not exist, please ensure the run time owner sets one on the window scope before using this API"})),$i)},ns=e=>function(){const t=ts();for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e(t,...r)},rs={INTEGER:"integer",DECIMAL:"decimal",FRACTION:"fraction",MINUS_SIGN:"minusSign",LITERAL:"literal",PERCENTAGE:"percentage",CURRENCY:"currency"},os={CODE:"code",SYMBOL:"symbol"},is={style:{mapTo:"currencyDisplay",validator:e=>Object.values(os).includes(e),validatorFallbackValue:os.SYMBOL,defaultValue:os.SYMBOL},minimumFractionDigits:{},maximumFractionDigits:{}},ss="symbol",as={MXN:"MX",AUD:"A",CAD:"CA"},cs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=1,o=n||e.formattingLocale,i=r.toLocaleString(o,{style:"currency",currency:t}),s={currencyDisplay:ss},a=ls({formattedString:i,currencyCode:t,parsedOptions:s});return a.replace(/[0-9]|\.|,/g,"").trim()},ls=e=>{let{formattedString:t,currencyCode:n,parsedOptions:r}=e;return as[n]&&r.currencyDisplay===ss&&-1===t.indexOf(as[n])?t.replace("$","".concat(as[n]).concat("$")):t},us=e=>/\d/.test(e),ps=e=>/\s/.test(e),ds=e=>"%"===e,fs=e=>/—|−|-|–|\(|\)/.test(e),ms=e=>({type:rs.LITERAL,value:e}),gs=e=>({type:rs.PERCENTAGE,value:e}),hs=e=>({type:rs.MINUS_SIGN,value:e}),bs=e=>({type:rs.DECIMAL,value:e}),ys=e=>({type:rs.CURRENCY,value:e}),vs=e=>({type:rs.FRACTION,value:e}),Os=e=>[...ws(e),..._s(e)],ws=e=>{const{localizationContext:t,parsedOptions:n,formattingLocale:r,currencyCode:o,formattedString:i,formattedNumber:s}=e,a=[];let c=0;for(;c<i.length;){const e=i.charAt(c);if(us(e)){const e=Math.abs(parseInt(s,10)),t={minimumFractionDigits:0,maximumFractionDigits:0};a.push((l=new Intl.NumberFormat(r,t).format(e),{type:rs.INTEGER,value:l}));break}if(ps(e))a.push(ms(e));else if(ds(e))a.push(gs(e));else{if(!fs(e)){const e=n.currencyDisplay===os.CODE?o:cs(t,o,r);a.push(ys(e)),c+=e.length;continue}a.push(hs(e))}c++}var l;return a},_s=e=>{const{localizationContext:t,formattingLocale:n,currencyCode:r,formattedString:o,parsedOptions:i}=e,s=[],a=1.1.toLocaleString(n).substring(1,2),c=-1!==o.indexOf(a);let l=o.length-1;for(;l>=0;){const e=o.charAt(l);if(us(e)){if(c){let t=e,n=l-1,r=o.charAt(n);for(;us(r);)t="".concat(r).concat(t),n--,r=o.charAt(n);s.unshift(vs(t)),s.unshift(bs(a))}break}if(ps(e))s.unshift(ms(e));else if(ds(e))s.unshift(gs(e));else{if(!fs(e)){const e=i.currencyDisplay===os.CODE?r:cs(t,r,n);s.unshift(ys(e)),l-=e.length;continue}s.unshift(hs(e))}l--}return s},Es=(e,t)=>{const n={};for(const[t,r]of Object.entries(e))r.defaultValue&&(n[r.mapTo||t]=r.defaultValue);for(const[r,o]of Object.entries(t))if(e[r]){const t=e[r].mapTo||r;n[t]=o;const i=e[r].validator;i&&!i(o)&&(n[t]=e[r].validatorFallbackValue)}return n};function Cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ts=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(n),!0).forEach((function(t){Ss(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},rs);delete Ts.PERCENTAGE;const js=(e,t,n,r)=>{const o=Es(is,r);return e%1!=0||o.hasOwnProperty("maximumFractionDigits")||o.hasOwnProperty("minimumFractionDigits")||(o.maximumFractionDigits=0,o.minimumFractionDigits=0),r.noFractionDigits&&(o.minimumFractionDigits=0,o.maximumFractionDigits=0),o.style="currency",o.currency=t,(r.asNumber||r.asParts)&&(o.useGrouping=!1),o},Ps=ns((function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=r.fallbackValue||"".concat(t," ").concat(n);try{if(!e||0===Object.keys(e).length)return o;const{asNumber:i,asParts:s}=r,a=r.formattingLocale||e.formattingLocale,c=js(t,n,a,r),l=new Intl.NumberFormat(a,c).format(t),u=ls({formattedString:l,parsedOptions:c,currencyCode:n});if(i||s){const t=parseFloat(u.replace(/[^0-9,.-]/gi,"").replace(/,/g,"."));return i?t:Os({localizationContext:e,parsedOptions:c,formattingLocale:a,currencyCode:n,formattedString:u,formattedNumber:t})}return u}catch(e){return s.Z.error(e,{value:t,options:r,formatter:"currencyFormat"}),o}})),ks="numeric",xs="2-digit",As="short",Is={year:{},month:{},day:{},hour:{},minute:{},second:{},hour12:{}},Ns=e=>Es(Is,e),Ds=ns((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.formattingLocale||$i.formattingLocale,o=n.fallbackValue||new Intl.DateTimeFormat(r,{year:ks,month:As,day:xs,hour:xs,minute:xs}).format(t);try{if(!e||0===Object.keys(e).length)return o;const r=n.formattingLocale||e.formattingLocale,i=Ns(n);return new Intl.DateTimeFormat(r,i).format(t)}catch(e){return s.Z.error(e,{value:t,options:n,formatter:"dateTimeFormat"}),o}})),Ls=e=>{let{amount:t,currency:n}=e;const r="$".concat(t);return(0,d.isNil)(t)||(0,d.isNil)(n)?r:Ps(parseFloat(t),n,{fallbackValue:r})};function Rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(n),!0).forEach((function(t){Fs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Bs={localized_fiverr_credits_removed:zs,localized_fiverr_credits_removed_no_date:zs,business_spending_limit_set:function(e,t){const{spending_limit:n,currency:r}=e.msgParams,o=Ls({amount:n,currency:r}),i=Ms(Ms({},e.msgParams),{},{amount:o});return t.t("realtime_notifications.types.".concat(e.subType),i)},business_deposit_made:function(e,t){const{deposit_amount:n,currency:r}=e.msgParams,o=Ls({amount:n,currency:r}),i=Ms(Ms({},e.msgParams),{},{amount:o});return t.t("realtime_notifications.types.".concat(e.subType),i)}};function zs(e,t){const{amount:n,currency:r,date:o}=e.msgParams,i=Ls({amount:n,currency:r}),s=(e=>(0,d.isNil)(e)?e:Ds(new Date(e),{year:ks,month:ks,day:ks,fallbackValue:e}))(o),a=Ms(Ms({},e.msgParams),{},{amount:i,date:s});return t.t("realtime_notifications.types.".concat(e.subType),a)}b("/MH/");function qs(e){let{unsafeString:t,content:n,username:o,subType:i,msgParams:s,i18n:a}=e;if(t)return r().createElement("p",{className:"content"},r().createElement("strong",{className:"username"},o),t);if(n){if(n===Ut){const e=function(e,t){if(Bs[e.subType])return(0,Bs[e.subType])(e,t);return t.t("realtime_notifications.types.".concat(e.subType),e.msgParams)}({subType:i,msgParams:s},a);return r().createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:e}})}return r().createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:n}})}return null}qs.propTypes={content:Te().string,unsafeString:Te().string,username:Te().string,subType:Te().string,msgParams:Te().object,i18n:Te().shape({t:Te().func})};const Us=(0,Sn.compose)(Be,ir((e=>{let{item:t,i18n:n}=e;return{unsafeString:t.userMessage,content:t.content,username:t.username,subType:t.subType,msgParams:t.msg_params,i18n:n}})))(qs);b("gDIq");function Hs(){let{item:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e||!e.previewImage)return null;const{previewImage:t}=e;return r().createElement("div",{className:"preview-image",style:{backgroundImage:"url(".concat(t,")")}})}Hs.propTypes={item:Te().object};const Zs=Hs;function Gs(){return r().createElement("svg",{width:"8",height:"8",viewBox:"0 0 11 10",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M7.21548 5L10.5817 1.63375C10.7764 1.43906 10.7764 1.12313 10.5817 0.928127L9.79954 0.145939C9.60485 -0.0487482 9.28891 -0.0487482 9.09391 0.145939L5.72798 3.5125L2.36173 0.146252C2.16704 -0.0484356 1.8511 -0.0484356 1.6561 0.146252L0.874226 0.928127C0.679539 1.12281 0.679539 1.43875 0.874226 1.63375L4.24048 5L0.874226 8.36625C0.679539 8.56094 0.679539 8.87687 0.874226 9.07187L1.65641 9.85406C1.8511 10.0487 2.16704 10.0487 2.36204 9.85406L5.72798 6.4875L9.09423 9.85375C9.28891 10.0484 9.60485 10.0484 9.79985 9.85375L10.582 9.07156C10.7767 8.87688 10.7767 8.56094 10.582 8.36594L7.21548 5Z"}))}b("dovV");function Vs(e){let{item:t,className:o,dismissable:i=!1,layoutSource:s,onDismiss:a=d.noop,onClick:c=d.noop}=e;const l=(0,n.useCallback)((()=>({item:t,layoutSource:s})),[t,s]),{containerRef:u}=or({buildImpressionData:l,eventKey:Mn.G.notification.shown}),p=s===Fn.TOAST,f=we()("drawer-item",o,{toast:p,read:!p&&t.isRead}),m=()=>{Rn.Z.report(Mn.G.notification.clicked,{item:t,layoutSource:s})};return r().createElement("li",{"data-testid":t.id,className:f,onClick:e=>{m(),c(e,t)},ref:u},r().createElement("a",{href:t.url,className:"main-action",id:t.id},r().createElement("div",{className:"image-wrapper"},t.profilePicture&&r().createElement(cr,{item:t}),!t.profilePicture&&r().createElement(ur,{item:t})),r().createElement("div",{className:"item-content-wrapper"},r().createElement(Us,{item:t}),!p&&r().createElement(Yi,{item:t})),r().createElement("div",{className:"item-gutter"},!p&&r().createElement("div",{className:"controls"},r().createElement(ri,{item:t,layoutSource:s})),r().createElement("div",{className:"preview-image-wrapper"},r().createElement(Zs,{item:t})))),i&&r().createElement(Ws,{onClick:a}))}function Ws(e){let{onClick:t}=e;return r().createElement("button",{"data-testid":"dismiss",className:"dismiss",onClick:t},r().createElement(Gs,null))}Vs.propTypes={className:Te().string,item:Te().object,dismissable:Te().bool,layoutSource:Te().oneOf(Object.values(Fn)),onDismiss:Te().func,onClick:Te().func},Ws.propTypes={onClick:Te().func.isRequired};const Ks=(0,_e.O)(Ee.uo,"ListItem")(Vs);var Xs=b("La3x"),Js=b.n(Xs);function Qs(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Ys(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Qs(i,r,o,s,a,"next",e)}function a(e){Qs(i,r,o,s,a,"throw",e)}s(void 0)}))}}const $s="INITIAL",ea="STARTED",ta="COMPLETED";function na(e){const{notification:t,onExpiration:o,duration:i}=e,{animationState:s,startAnimating:a}=function(e){let{startAfter:t}=e;const[r,o]=(0,n.useState)($s),i=(0,n.useRef)(),s=(0,n.useRef)(),a=(0,n.useCallback)((()=>{o(ea),s.current=setTimeout(Ys((function*(){o(ta)})),1e3)}),[]),c=(0,n.useCallback)((()=>{i.current=setTimeout(Ys((function*(){a()})),t)}),[]),l=(0,n.useCallback)((()=>{i.current&&clearTimeout(i.current),s.current&&clearTimeout(s.current)}),[]),u=(0,n.useCallback)((()=>{l(),a()}),[l,a]);return(0,n.useEffect)((()=>(c(),l)),[c,l]),{animationState:r,startAnimating:u}}({startAfter:i-1e3}),c=s===ea||s===ta,l=we()(Js().card,{[Js().expired]:c});return(0,n.useEffect)((()=>{s===ta&&o()}),[s,o]),r().createElement(Ks,{item:t,className:l,onClick:ra,dismissable:!0,layoutSource:Fn.TOAST,onDismiss:e=>{e.stopPropagation(),a(),wt.count(Et.NOTIFICATION_TOAST_DISMISSED)}})}function ra(){wt.count(Et.NOTIFICATION_TOAST_CLICKED)}na.propTypes={notification:Rt.isRequired,onExpiration:Te().func.isRequired,duration:Te().number.isRequired};(0,_e.O)(Ee.nO,"NotificationToast")(na);var oa=b("zAsE"),ia=b.n(oa);function sa(e){let{notifications:t,onToastExpiration:n}=e;const o=we()(Ee.Gq,ia().container);return t.length?r().createElement("ul",{className:o},t.map((e=>r().createElement(na,{key:e.id,notification:e,duration:Ee.Pb,onExpiration:()=>n(e)})))):null}sa.propTypes={notifications:Te().arrayOf(Rt),onToastExpiration:Te().func.isRequired};const aa=(0,d.flow)((0,Ce.connect)((e=>({notifications:He(e)})),(e=>({onToastExpiration:t=>e(Tt(t))}))),(0,_e.O)(Ee.nO,"Toaster"))(sa);class ca extends r().Component{constructor(e){super(e);const t={tabManager:ht};this.store=function(e,t){return(0,Sn.createStore)(Dn,(e=>{const{realtimeEnabled:t,soundEnabled:n,username:r}=e;return{settings:{realtimeEnabled:t,soundEnabled:n},username:r}})(e),Ln((0,Sn.applyMiddleware)(jn().withExtraArgument(t))))}(e,t)}render(){const{socket:e}=this.props,{locale:t}=(0,j.Z)();return r().createElement(Ce.Provider,{store:this.store},r().createElement(Fe,{locale:t},r().createElement(r().Fragment,null,r().createElement(yn,{socket:e,tabManager:ht}),r().createElement(aa,null),r().createElement(Cn,null))))}}ca.propTypes={socket:Lt};const la=(0,_e.O)(Ee.nO,"ToasterNotifications")(ca);function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}const fa=()=>null,ma=e=>{let{lazyImport:t,shouldImport:o,fallback:i,placeholder:s,beforeLoad:a,afterLoad:c,onError:l,componentProps:u}=e;const[p,f]=(0,n.useState)(!0),m=(0,n.useRef)(),g=!(0,d.isNil)(m.current),h=g?m.current.default:null;return(0,n.useEffect)((()=>{const e=function(){var e,n=(e=function*(){try{a(),m.current=yield t(),c()}catch(e){l(e)}f(!1)},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){da(i,r,o,s,a,"next",e)}function a(e){da(i,r,o,s,a,"throw",e)}s(void 0)}))});return function(){return n.apply(this,arguments)}}();o&&!g&&e()}),[o,g]),p?s:g?r().createElement(h,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u)):i};ma.propTypes={lazyImport:Se.func.isRequired,shouldImport:Se.bool,fallback:Se.node,placeholder:Se.node,beforeLoad:Se.func,afterLoad:Se.func,onError:Se.func,componentProps:Se.object},ma.defaultProps={shouldImport:!0,fallback:r().createElement(fa,null),placeholder:r().createElement(fa,null),beforeLoad:Function.prototype,afterLoad:Function.prototype,onError:Function.prototype,componentProps:{}};const ga=ma,ha=Te().shape({subscribe:Te().func.isRequired});var ba=b("MXr9");const ya=e=>"ENCOURAGE_SELLER_REPLY_".concat(e),va=()=>{const{userId:e}=(0,j.Z)();return Hn.get(ya(e))||{}};var Oa=b("O40S"),wa=b("gEt/");const _a=e=>(0,Oa.O)(e.sentAt,wa.j.MINUTE)>=ba.ep;function Ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(n),!0).forEach((function(t){Sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ta={message:{},isOpen:!1,isMinimized:!1,closedCount:0},ja=()=>{const[e]=(0,n.useState)((()=>(()=>{const e=va();return(0,d.isEmpty)(e)?Ta:_a(e.message)?Ca(Ca({},Ta),{},{closedCount:e.closedCount}):e})())),[t,r]=(0,n.useState)(e.message),[o,i]=(0,n.useState)(e.isOpen),[s,a]=(0,n.useState)(e.isMinimized),[c,l]=(0,n.useState)(e.closedCount),u=(0,n.useRef)(!0);(0,n.useEffect)((()=>{u.current||(e=>{const{userId:t}=(0,j.Z)();Hn.set(ya(t),e)})({message:t,isOpen:o,isMinimized:s,closedCount:c}),u.current=!1}),[t,o,s,c]);const p=(0,n.useCallback)((()=>{y(),i(!1),a(!1)}),[]),f=(0,n.useCallback)((()=>{i(!0),a(!1)}),[]),m=(0,n.useCallback)((()=>{i(!0),a(!0)}),[]),g=(0,n.useCallback)((()=>{i(!1)}),[]),h=e=>{r({sender:e.sender,sentAt:e.sentAt,conversationUrl:e.conversationUrl}),f()},b=e=>(e=>e.eventType===Q.INBOX_MESSAGES)(e)&&(e=>!!e.showEncourageSellerReply)(e)&&!_a(e)&&c<ba.Ui,y=()=>l((e=>e+1));return{close:p,expand:f,minimize:m,clear:g,onNewNotification:e=>{const t=(e=>{const{url:t,profilePictureUrl:n,username:r,eventType:o,showEncourageSellerReply:i}=gn(e);return{showEncourageSellerReply:i,eventType:o,conversationUrl:t,sender:{username:r,profilePictureUrl:n},sentAt:Date.now()}})(e);if(!b(t))return;if(!o)return h(t);const{isOpen:n}=va();return n?void 0:h(t)},message:t,isOpen:o,isMinimized:s}},Pa=()=>b.e(272).then(b.bind(b,"luOh")),ka=e=>{let{className:t,socket:o}=e;const{isOpen:i,isMinimized:s,message:a,close:c,minimize:l,expand:u,clear:p,onNewNotification:d}=ja();(0,n.useEffect)((()=>o.subscribe(d)),[o,d]);const{sender:f,conversationUrl:m,sentAt:g}=a;return r().createElement(ga,{lazyImport:Pa,shouldImport:i,componentProps:{className:t,isOpen:i,isMinimized:s,sender:f,conversationUrl:m,messageSentAt:g,onClose:c,onMinimize:l,onSenderCardClick:p,onExpand:u,onMessageExpire:p}})};ka.propTypes={className:Se.string,socket:ha};const xa=(0,_e.O)(Ee.nO,"EncourageSellerReply")(ka);var Aa=b("x7U1"),Ia=b.n(Aa);function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Na.apply(this,arguments)}const Da=(0,_e.O)(Ee.nO,"Container")((e=>r().createElement("div",{className:we()(Ia().container,"flex-col","flex-end","flex-items-end")},r().createElement(la,Na({className:Ia().item},e)),r().createElement(xa,Na({className:Ia().item},e)))));b("WzVn");function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},La.apply(this,arguments)}const Ra=t=>r().createElement(Da,La({},t,{socket:e})),Ma="undefined"!=typeof document&&document.querySelector("#RealtimeMessages");if(Ma){((e,t,n,o,s)=>{try{const a="layout.CSR.".concat(o,".").concat(s);U(a),i().hydrate(r().createElement(K,{componentName:o,entryName:s},r().createElement(e,t)),n,(()=>{H(a)}))}catch(e){W(e,o,s)}})(Ra,window.initialData.RealtimeMessages,Ma,"RealtimeMessages","RealtimeMessages")}const Fa=Ra})(),y})()));
//# sourceMappingURL=RealtimeMessages.4e616d84df056da6baa8.js.map